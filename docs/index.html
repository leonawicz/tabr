<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create Guitar Tablature • tabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="Create Guitar Tablature">
<meta property="og:description" content="Creates guitar tablature from R code by providing functions for describing and organizing musical structures and wrapping around the 'LilyPond' backend (&lt;http://lilypond.org&gt;).
    'LilyPond' is open source music engraving software for generating high quality sheet music based on markup language. 'tabr' provides a wrapper around this
    software and generates files following the 'LilyPond' markup syntax to be subsequently processed by 'LilyPond' into sheet music pdf files.
    A standalone 'LilyPond' file can be created or the package can make a system call to 'LilyPond' directly to render the guitar tablature output.
    While 'LilyPond' caters to sheet music in general, 'tabr' is focused on leveraging it specifically for creating quality guitar tablature.
    'tabr' offers nominal MIDI file support in addition to its focus on tablature transcription. See the 'tuneR' package for more general use of MIDI files in R.
    'tabr' also provides a collection of helper functions for manipulating and transforming strings of musical notes, pitches, chords, keys, scales and modes.">
<meta property="og:image" content="http://leonawicz.github.io/tabr/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-46129458-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-46129458-3');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">tabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-info-circle"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/tabr-basics.html">Basic example</a>
    </li>
    <li>
      <a href="articles/tabr-phrases.html">Musical phrases</a>
    </li>
    <li>
      <a href="articles/tabr-helpers.html">Phrase helpers</a>
    </li>
    <li>
      <a href="articles/tabr-chords.html">Chords</a>
    </li>
    <li>
      <a href="articles/tabr-repeats.html">Repeats</a>
    </li>
    <li>
      <a href="articles/tabr-tracks-scores.html">Tracks and scores</a>
    </li>
    <li>
      <a href="articles/tabr-engraving.html">Engraving</a>
    </li>
    <li>
      <a href="articles/tabr-tunings.html">Strings and tunings</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Examples</li>
    <li>
      <a href="articles/tabr-ex1.html">Tuning and capo</a>
    </li>
    <li>
      <a href="articles/tabr-ex2.html">Multiple voices</a>
    </li>
  </ul>
</li>
<li>
  <a href="reference/index.html">
    <span class="fa fa-book"></span>
     
    Reference
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leonawicz/tabr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="tabr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#tabr" class="anchor"></a>tabr <img src="reference/figures/logo.png" style="margin-left:10px;margin-bottom:5px;" width="120" align="right">
</h1></div>
<p><strong>Author:</strong> <a href="https://leonawicz.github.io/blog/">Matthew Leonawicz</a> <a href="https://orcid.org/0000-0001-9452-2771" target="orcid.widget"> <image class="orcid" src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" height="16"></image></a> <a href="https://gitter.im/leonawicz/tabr"><img src="https://img.shields.io/badge/GITTER-join%20chat-green.svg" alt="gitter"></a> <br><strong>License:</strong> <a href="https://opensource.org/licenses/MIT">MIT</a><br></p>
<p><a href="https://cran.r-project.org/package=tabr"><img src="http://www.r-pkg.org/badges/version/tabr" alt="CRAN status"></a> <a href="https://cran.r-project.org/package=tabr"><img src="http://cranlogs.r-pkg.org/badges/grand-total/tabr" alt="CRAN downloads"></a> <a href="http://www.rdocumentation.org/packages/tabr"><img src="http://www.rdocumentation.org/badges/version/tabr" alt="Rdoc"></a> <a href="https://travis-ci.org/leonawicz/tabr"><img src="https://travis-ci.org/leonawicz/tabr.svg?branch=master" alt="Travis-CI Build Status"></a> <a href="https://ci.appveyor.com/project/leonawicz/tabr"><img src="https://ci.appveyor.com/api/projects/status/github/leonawicz/tabr?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://codecov.io/github/leonawicz/tabr?branch=master"><img src="https://img.shields.io/codecov/c/github/leonawicz/tabr/master.svg" alt="Coverage Status"></a></p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>Create guitar tablature (“tabs”) from R code with <code>tabr</code>. The <code>tabr</code> package provides programmatic music notation and a wrapper around <a href="http://lilypond.org/">LilyPond</a> for creating quality guitar tablature.<img src="tabr_logo_small.png" style="float:right;margin-left:10px;width:400px;"></p>
<p><code>tabr</code> offers functions for describing and organizing musical structures and wraps around the LilyPond backend. LilyPond is an open source music engraving program for generating high quality sheet music based on markup syntax. <code>tabr</code> generates files following the LilyPond markup syntax to be subsequently processed by LilyPond into sheet music.</p>
<p>A standalone LilyPond (.ly) file can be created or the package can make a system call to LilyPond directly to render the guitar tablature output (pdf or png). While LilyPond caters to sheet music in general, <code>tabr</code> is focused on leveraging it specifically for creating quality guitar tablature.</p>
</div>
<div id="functionality-and-support" class="section level2">
<h2 class="hasAnchor">
<a href="#functionality-and-support" class="anchor"></a>Functionality and support</h2>
<p>The <code>tabr</code> package offers the following:</p>
<ul>
<li>Render guitar tablature and sheet music to pdf or png.</li>
<li>Write accompanying MIDI files that can respect repeat notation and transposition in the sheet music (under reasonable conditions).</li>
<li>Support tablature for other string instruments besides guitar such as bass or banjo.</li>
<li>Support for instruments with different numbers of strings.</li>
<li>Support for arbitrary instrument tuning.</li>
<li>Offers inclusion (or exclusion) of formal music staves above tab staves, such as treble and bass clef staves for complete rhythm and timing information.</li>
<li>Track-specific setup for features like instrument type, tuning and supplemental music staves.</li>
<li>Provide common notation such as slide, bend, hammer on, pull off, slur, tie, staccato, dotted notes, visible and silent rests.</li>
<li>Allows arbitrary tuplet structure.</li>
<li>Above-staff text annotation.</li>
<li>Percent and volta repeat section notation.</li>
<li>Note transposition.</li>
<li>Staff transposition.</li>
<li>Multiple voices per track and multiple tracks per score.</li>
<li>Chord symbols above staff</li>
<li>Chord fretboard diagrams and chord chart at top of score.</li>
<li>Rich set of layout control options covering settings from score attributions to font size.</li>
<li>Optional alternative input format allowing the user to provide string/fret combinations (along with key signature and instrument tuning) to map to pitch.</li>
</ul>
<p>Note that MIDI support and string/fret alternative input format support are not prioritized in ongoing <code>tabr</code> development. These are considered tangential extra features in <code>tabr</code> that fall outside the general scope and intent of the package.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install tabr from CRAN with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"tabr"</span>)</code></pre></div>
<p>You can install tabr from GitHub with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"leonawicz/tabr"</span>)</code></pre></div>
</div>
<div id="basic-example" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-example" class="anchor"></a>Basic example</h2>
<p>As a brief example, recreate the tablature shown in the image above (minus the R logo). Here are the steps.</p>
<ul>
<li>Define a musical phrase with <code>phrase</code> or the shorthand alias <code>p</code>.</li>
<li>Add the phrase to a <code>track</code>.</li>
<li>Add the track to a <code>score</code>.</li>
<li>Render the score to pdf with <code>tab</code>.</li>
</ul>
</div>
<div id="constructing-a-musical-phrase" class="section level2">
<h2 class="hasAnchor">
<a href="#constructing-a-musical-phrase" class="anchor"></a>Constructing a musical phrase</h2>
<p>A phrase here does not require a strict definition. Think of it as the smallest piece of musical structure you intend to string together. The first argument to <code>phrase</code> is a string describing notes of a specific pitch (or rests: “r”), separated in time by spaces. For chords, just remove spaces to indicate simultaneous notes. Integers are appended to indicate the octave number so that the pitch is unique. For example, a rest followed by a sequence of notes might be given by <code>notes = "r a2 c3 f3 d3 a3 f3"</code>.</p>
<p>The second argument is a similar string giving note metadata. In this example there is nothing to add but the time durations. Whole notes taking up an entire measure of music are given by 1, half notes by 2, quarter notes 4, eighth notes 8, and so on. To specify a quarter note rest followed by a sequence of eighth notes, use <code>info = "4 8 8 8 8 8 8"</code> (or shorten to just <code>info = "4 8*6"</code>). This basic example does not require specifying additional note information such as dotted notes for different fractions of time, staccato notes, ties/slurs, slides, bends, hammer ons and pull offs, etc. These specifications are currently available in <code>tabr</code> to varying degrees of development and are covered in the vignette tutorials.</p>
<p>The third argument, <code>string</code>, is optional but generally important for guitar tablature. In similar format, it specifies the strings of the guitar on which notes are played. Providing this information fixes the fret-string combinations so that LilyPond does not have to guess what position on the neck of the guitar to play a specific note. An inability to specify this in various tablature notation software (or laziness by the user), is a common cause of inaccurate tabs scouring the internet, where even when the notes are correct they are written in the tab suggesting they be played in positions no one would sensibly use. Note that the <code>x</code> shown below is just a placeholder indicating no need to specify a string for the quarter note rest.</p>
<p>The example below employs a couple shortcuts to further reduce typing. The first is to use the <code>*</code> in-string expansion operator mentioned above to avoid typing a long series of eighth notes. Second, it drops explicit reference to octave number three since this central octave is the default octave in LilyPond. This applies to all but the first note below.</p>
<p>While explicit string numbers are not needed for this example, they are provided anyway for full context. Dropping the <code>string</code> argument would further reduce typing.</p>
</div>
<div id="score-metadata-and-accessing-lilypond" class="section level2">
<h2 class="hasAnchor">
<a href="#score-metadata-and-accessing-lilypond" class="anchor"></a>Score metadata and accessing LilyPond</h2>
<p>Finally, specify some song metadata to reproduce the original staff: the key of D minor, common time, and the tempo.</p>
<p>If LilyPond is installed on your system (and added to your system PATH variable on Windows systems), <code>tab</code> should call it successfully. Alternatively, on Windows, it can be added explicitly by calling <code>tabr_options</code>. This option to specify the LilyPond path is still available on other systems. An example of this is commented out below. However, <code>tabr</code> will do its best on package load to set these paths in <code>tabr_options</code> for you if it can successfully detect a LilyPond installation in a standard file system location, so you may not have to do anything. Just check <code><a href="reference/tabr_options.html">tabr_options()</a></code> after you load the package. If any of the paths are equal to the empty string <code>""</code>, then you need to set the paths. Otherwise you should be ready to run LilyPond from R.</p>
</div>
<div id="r-code" class="section level2">
<h2 class="hasAnchor">
<a href="#r-code" class="anchor"></a>R code</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tabr)
<span class="co"># path &lt;- "C:/Program Files (x86)/LilyPond/usr/bin/lilypond.exe"</span>
<span class="co"># tabr_options(lilypond = path) # may not be necessary</span>

<span class="kw"><a href="reference/phrase.html">p</a></span>(<span class="st">"r a2 c f d a f"</span>, <span class="st">"4 8*6"</span>, <span class="st">"x 5 5 4 4 3 4"</span>) <span class="op">%&gt;%</span><span class="st"> </span>track <span class="op">%&gt;%</span><span class="st"> </span>score <span class="op">%&gt;%</span>
<span class="st">  </span><span class="kw"><a href="reference/tab.html">tab</a></span>(song, <span class="st">"phrase.pdf"</span>, <span class="dt">key =</span> <span class="st">"dm"</span>, <span class="dt">time =</span> <span class="st">"4/4"</span>, <span class="dt">tempo =</span> <span class="st">"4 = 120"</span>)</code></pre></div>
<pre><code>#&gt; #### Engraving score to phrase.pdf ####
#&gt; GNU LilyPond 2.18.2
#&gt; Processing `./phrase.ly'
#&gt; Parsing...
#&gt; Interpreting music...
#&gt; Preprocessing graphical objects...
#&gt; Interpreting music...
#&gt; MIDI output to `./phrase.mid'...
#&gt; Finding the ideal number of pages...
#&gt; Fitting music on 1 page...
#&gt; Drawing systems...
#&gt; Layout output to `./phrase.ps'...
#&gt; Converting to `./phrase.pdf'...
#&gt; Success: compilation successfully completed</code></pre>
<embed src="phrase.pdf?#zoom=175" width="100%" height="300"></embed><p><br></p>
<p>Note above that <code>tabr</code> also exports the pipe <code>%&gt;%</code> operator. Even given the hierarchy of objects involved in the series of steps to move from a phrase to a rendered pdf, a short example like this does not even require a single assignment. While music can be quite complex and a full score will be much longer, <code>tabr</code> strives to minimize the work while still forcing some sense of interpretable, organized structure. For long and complex music, it can require some effort and practice to ensure your approach to transcription in your R code is not opaque.</p>
</div>
<div id="additional-context" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-context" class="anchor"></a>Additional context</h2>
<p>Why LilyPond? LilyPond is an exceptional sheet music engraving program. It produces professional, high quality output. It is open source. It offers an access point for a programmatic approach to music notation. It is developed and utilized by a large community. Most GUI-based applications are WYSIWYG and force a greater limitation on what you can do and what it will look like after you do it. On the other hand, I have zero interest in writing LilyPond files. <code>tabr</code> has made it more enjoyable, a bit less ugly, and enables me to stick with LilyPond for its quality as I try to shield myself from its native input structures. I’m sure there are far more LilyPond users who don’t mind it at all and have never heard of R; to each their own.</p>
</div>
<div id="limitations" class="section level2">
<h2 class="hasAnchor">
<a href="#limitations" class="anchor"></a>Limitations</h2>
<p>There is far more that LilyPond can do that <code>tabr</code> does not tap into. Instead of listing a million things, this is just to highlight an example of a critical feature that still has limited functionality in both <code>tabr</code> and in LilyPond itself: LilyPond’s bend engraver. Rendering sheet music with quality string bend notation is quite difficult. This is an area that will benefit greatly from further development.</p>
</div>
<div id="new-in-v-0-3-0-more-music-programming-support" class="section level2">
<h2 class="hasAnchor">
<a href="#new-in-v-0-3-0-more-music-programming-support" class="anchor"></a>New in v 0.3.0: more music programming support</h2>
<p>Version 0.3.0 of adds many new helper functions ranging from simple to complex. These functions do not directly impact the core functionality and purpose of <code>tabr</code>, which is leveraging LilyPond for engraving guitar tablature and other sheet music.</p>
<p>While indirectly supporting this core focus by keeping within the framework of <code>tabr</code>-LilyPond syntax, always with an eye toward transcription-related projects, the utility of these new functions is somewhat orthogonal to the music transcription side of <code>tabr</code>. Version 0.3.0 focuses on expanding music programming with <code>tabr</code> more generally.</p>
<p>All of the new functions are fully documented. See the reference pages for details. Some are still under development, but all work as currently implemented.</p>
<p>I was hopeful that the next version of <code>tabr</code> would be able to leverage a new, native bend engraver in LilyPond, but it appears that on the LilyPond side this development has not progressed since I last checked.</p>
<p>Look forward to a separate collection of articles under a music programming heading that introduce many of the new functions. I just haven’t had time to put this together yet.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=tabr">https://​cloud.r-project.org/​package=tabr</a>
</li>
<li>Browse source code at <br><a href="https://github.com/leonawicz/tabr">https://​github.com/​leonawicz/​tabr</a>
</li>
<li>Report a bug at <br><a href="https://github.com/leonawicz/tabr/issues">https://​github.com/​leonawicz/​tabr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="http://leonawicz.github.io/">Matthew Leonawicz</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://leonawicz.github.io/">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
