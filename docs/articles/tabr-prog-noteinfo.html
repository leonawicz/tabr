<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Note information • tabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Note information">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tabr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><h6 class="dropdown-header" data-toc-skip>Programming</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-nw.html">Noteworthiness</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-scales.html">Musical scales</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-notes.html">Note functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-chords.html">Chord functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-noteinfo.html">Time and note info</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-music.html">The music class</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-converters.html">Syntax converters</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-fretboard.html">Fretboard diagram plots</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Transcription</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-basics.html">Basic overview</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-phrases.html">Musical phrases</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-helpers.html">Phrase helpers</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chords.html">Chords</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-repeats.html">Repeats</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tracks-scores.html">Tracks and scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-engraving.html">Render scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-snippets.html">Music snippets</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chordchart.html">Render chord chart</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tunings.html">Strings and tunings</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/tabr-ex1.html">Tuning and capo</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex2.html">Multiple voices</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex3.html">AC2 - Ezio's family</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex4.html">Gin Wigmore - Devil in me</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/leonawicz/tabr"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Note information</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/tabr/blob/HEAD/vignettes/tabr-prog-noteinfo.Rmd" class="external-link"><code>vignettes/tabr-prog-noteinfo.Rmd</code></a></small>
      <div class="d-none name"><code>tabr-prog-noteinfo.Rmd</code></div>
    </div>

    
    
<p>Now that you have had an overview of the concept of noteworthy
strings and the <code>noteworthy</code> class that provides this
structure to objects, next consider the <code>noteinfo</code> class.
<code>noteinfo</code> objects are similarly built from character
strings. Note information is supplemental information that is stored in
a <code>noteinfo</code> object. A note info string is generally a
companion to a noteworthy string. They share many of the same properties
as <code>noteworthy</code> objects and have similar generic method
implementations.</p>
<div class="section level2">
<h2 id="the-noteinfo-class">The <code>noteinfo</code> class<a class="anchor" aria-label="anchor" href="#the-noteinfo-class"></a>
</h2>
<p>The data stored in a <code>noteinfo</code> object always includes
duration, but can also consist of various other pieces of sheet music
notation markup syntax; information that is distinct from the pitch
itself, for example slurs or staccato notes. Because all the available
information aside from note duration tends to be specifically relevant
to sheet music transcription, you can find more details in the
transcription vignettes that introduce the <code>phrase</code> class. It
is worth browsing the table in the <a href="https://leonawicz.github.io/tabr/articles/tabr-phrases.html">phrases
vignette</a> if any note info notation below is unfamiliar.</p>
<div class="section level3">
<h3 id="checking-note-info">Checking note info<a class="anchor" aria-label="anchor" href="#checking-note-info"></a>
</h3>
<p>A string can be checked directly with <code><a href="../reference/valid-noteinfo.html">informable()</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"2. 4.. 8 t8-. t8- t8^ 16"</span></span>
<span><span class="fu"><a href="../reference/valid-noteinfo.html">informable</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/valid-noteinfo.html">informable</a></span><span class="op">(</span><span class="st">"5"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] FALSE</span></span></code></pre>
<p>This reports whether the entire string conforms to all requirements
for it to be valid <code>noteinfo</code> syntax. In the special case
where only durations are provided and no other information, and these
durations do not include any triplets <code>"t"</code> or dotted notes
<code>"."</code>, then an integer vector will suffice. Even so, a digit
like <code>5</code> does not belong.</p>
</div>
<div class="section level3">
<h3 id="coercion">Coercion<a class="anchor" aria-label="anchor" href="#coercion"></a>
</h3>
<p>Use <code><a href="../reference/valid-noteinfo.html">as_noteinfo()</a></code> to coerce to a <code>noteinfo</code>
object. Here are the print and summary statements.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/valid-noteinfo.html">as_noteinfo</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Note info string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: 2. 4.. 8 t8-. t8- t8^ 16</span></span></code></pre>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Note info string&gt;</span></span>
<span><span class="co">#&gt;   Timesteps: 7</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: 2. 4.. 8 t8-. t8- t8^ 16</span></span></code></pre>
<p>Similar to <code>noteworthy</code> object, here are some generic
methods as applied to the <code>noteinfo</code> class.</p>
</div>
<div class="section level3">
<h3 id="other-methods">Other methods<a class="anchor" aria-label="anchor" href="#other-methods"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] 7</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rev.html" class="external-link">rev</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Note info string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: 16 t8^ t8- t8-. 8 4.. 2.</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Note info string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: 4.. 8 t8-.</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1("</span>, <span class="st">"2)"</span><span class="op">)</span></span>
<span><span class="va">x</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Note info string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: 2. 1( 2) t8-. t8- t8^ 16</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="note-info-functions">Note info functions<a class="anchor" aria-label="anchor" href="#note-info-functions"></a>
</h2>
<p>As with the <code>noteworthy</code> class, there are helper functions
available that make it convenient to extract and manipulate the data in
<code>noteinfo</code> objects. Here are some examples.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">a</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/notate.html">notate</a></span><span class="op">(</span><span class="st">"t8x"</span>, <span class="st">"Start here"</span><span class="op">)</span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">a</span>, <span class="st">"t8x t8-. 16 4.. 16- 16 2^ 2 4. 8( 4)( 4) 8*4 1 1"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/noteinfo.html">info_duration</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Note info string&gt;</span></span>
<span><span class="co">#&gt;   Format: vectorized time</span></span>
<span><span class="co">#&gt;   Values: t8 t8 t8 16 4.. 16 16 2 2 4. 8 4 4 8 8 8 8 1 1</span></span></code></pre>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/noteinfo.html">info_slur_on</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE</span></span>
<span><span class="co">#&gt; [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/noteinfo.html">info_slur_off</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE</span></span>
<span><span class="co">#&gt; [13]  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/noteinfo.html">info_slide</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE</span></span>
<span><span class="co">#&gt; [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/noteinfo.html">info_dotted</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt;  [1] FALSE FALSE FALSE FALSE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE</span></span>
<span><span class="co">#&gt; [13] FALSE FALSE FALSE FALSE FALSE FALSE FALSE</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/noteinfo.html">info_annotation</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt;  [1] "Start here" NA           NA           NA           NA          </span></span>
<span><span class="co">#&gt;  [6] NA           NA           NA           NA           NA          </span></span>
<span><span class="co">#&gt; [11] NA           NA           NA           NA           NA          </span></span>
<span><span class="co">#&gt; [16] NA           NA           NA           NA</span></span></code></pre>
<p><code><a href="../reference/noteinfo.html">info_duration()</a></code> is a handy function that strips away all
information but note durations. Most of the other functions return
logical vectors indicating timesteps where certain types of information
are present. <code><a href="../reference/noteinfo.html">info_annotation()</a></code> extracts text annotations at
timesteps, returning <code>NA</code> where there is no annotation.</p>
</div>
<div class="section level2">
<h2 id="use-cases">Use cases<a class="anchor" aria-label="anchor" href="#use-cases"></a>
</h2>
<p>It is unlikely to have reason to use <code>noteinfo</code> objects in
isolation. They are meant to compliment <code>noteworthy</code> objects
of the same timestep length. You will see them used in combination to
construct phrases for sheet music transcription, but also to build a
<code>music</code> object. Music objects are the subject of the next
tutorial.</p>
<p>The key takeaway here is that <code>noteworthy</code>- and
<code>noteinfo</code>-class objects are intended to provide clean
separation of sound and time, respectively. It is true that note
information can be more than just duration, including notation markup
that represents things that have an effect on how a note sounds, but the
focus here is specifically on separating pitch from time (and everything
else).</p>
<p>There is much analysis that can be done on a sequence of pitches
alone. The temporal information meant to be included in a
<code>noteworthy</code> object is at the rank level. There is a temporal
sequence; the object is built around timesteps. But interval/ratio level
data is not part of the definition. When this is needed,
<code>noteinfo</code> is paired with pitch.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/leonawicz" class="external-link">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
