<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Repeats • tabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Repeats">
<meta property="og:description" content="tabr">
<meta property="og:image" content="https://leonawicz.github.io/tabr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.9</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Programming</li>
    <li>
      <a href="../articles/tabr-prog-nw.html">Noteworthiness</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-scales.html">Musical scales</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-notes.html">Note functions</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-chords.html">Chord functions</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-noteinfo.html">Time and note info</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-music.html">The music class</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-converters.html">Syntax converters</a>
    </li>
    <li>
      <a href="../articles/tabr-fretboard.html">Fretboard diagram plots</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Transcription</li>
    <li>
      <a href="../articles/tabr-basics.html">Basic overview</a>
    </li>
    <li>
      <a href="../articles/tabr-phrases.html">Musical phrases</a>
    </li>
    <li>
      <a href="../articles/tabr-helpers.html">Phrase helpers</a>
    </li>
    <li>
      <a href="../articles/tabr-chords.html">Chords</a>
    </li>
    <li>
      <a href="../articles/tabr-repeats.html">Repeats</a>
    </li>
    <li>
      <a href="../articles/tabr-tracks-scores.html">Tracks and scores</a>
    </li>
    <li>
      <a href="../articles/tabr-engraving.html">Render scores</a>
    </li>
    <li>
      <a href="../articles/tabr-snippets.html">Music snippets</a>
    </li>
    <li>
      <a href="../articles/tabr-chordchart.html">Render chord chart</a>
    </li>
    <li>
      <a href="../articles/tabr-tunings.html">Strings and tunings</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tabr-ex1.html">Tuning and capo</a>
    </li>
    <li>
      <a href="../articles/tabr-ex2.html">Multiple voices</a>
    </li>
    <li>
      <a href="../articles/tabr-ex3.html">AC2 - Ezio's family</a>
    </li>
    <li>
      <a href="../articles/tabr-ex4.html">Gin Wigmore - Devil in me</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leonawicz/tabr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Repeats</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/tabr/blob/HEAD/vignettes/tabr-repeats.Rmd" class="external-link"><code>vignettes/tabr-repeats.Rmd</code></a></small>
      <div class="hidden name"><code>tabr-repeats.Rmd</code></div>

    </div>

    
    
<p>Attention has been given to minimizing typing and keeping the R code
short, particularly when the music is repetitive. However, this also
needs to be extended to the tablature itself. Sheet music makes use of
various styles of repeat notation to keep the number of pages for a song
transcription from expanding needlessly.</p>
<p><code>tabr</code> offers three functions for common ways to use
repeats with LilyPond and in sheet music. The first is
<code><a href="../reference/repeats.html">rp()</a></code>. (R functions <code>rep</code> and <code>repeat</code>
are used for other purposes; think of <code><a href="../reference/repeats.html">rp()</a></code> as standing for
repeat phrase.) This function is the only one that does not reduce the
length of the guitar tablature. It only serves to shorten code.
<code><a href="../reference/repeats.html">rp()</a></code> <em>unfolds</em> repeated sections of music so that in
the output the music is explicitly written out on the staff however many
times.</p>
<p>The other two functions are <code><a href="../reference/repeats.html">pct()</a></code> and
<code><a href="../reference/repeats.html">volta()</a></code>. These functions do shorten the tablature output.
<code><a href="../reference/repeats.html">pct()</a></code> is for percent repeat notation. It is useful for
simple repetition of individual beats or of full measures or bars of
music. <code><a href="../reference/repeats.html">volta()</a></code> is useful for repeating entire measures,
optionally with alternate endings. <code><a href="../reference/repeats.html">volta()</a></code> is the standard
approach when alternate section endings are present. All three functions
operate similarly and share the same perspective on repeated sections of
music even though some of their arguments as well as their results
differ.</p>
<div class="section level2">
<h2 id="unfolded-repeats">Unfolded repeats<a class="anchor" aria-label="anchor" href="#unfolded-repeats"></a>
</h2>
<p>You have already seen how <code><a href="../reference/append_phrases.html">pn()</a></code> is used to repeat phrases
and character strings <code>n</code> times. This helps keep R code
shorter for repetitive music. However, this does nothing for the
resulting LilyPond markup or the final sheet music output. It is
strictly to limit repetitive typing and used more generally than for
section repeats. <code><a href="../reference/repeats.html">rp()</a></code> achieves the same result. It does not
shorten the music transcription. It is the simplest of the collection of
repeat functions that apply LilyPond repeat tags around phrase
objects.</p>
<p>Take the following phrase as an example.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phrase.html">p</a></span><span class="op">(</span><span class="st">"c e g c' e' c' g e"</span>, <span class="fl">8</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/append_phrases.html">pn</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span><span class="op">)</span> <span class="co"># repeat n = 2 times</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8</span></span></code></pre>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repeats.html">rp</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">1</span><span class="op">)</span> <span class="co"># repeat once (n = 1), or play twice (n + 1)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat unfold 2 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 }</span></span>
<span><span class="co">#&gt; </span></span></code></pre>
<p>Note the difference in <code>n</code> and the results of
<code><a href="../reference/append_phrases.html">pn()</a></code> vs. <code><a href="../reference/repeats.html">rp()</a></code>. Usually an argument like
<code>n</code> refers to the total number of times, as it does in
<code><a href="../reference/append_phrases.html">pn()</a></code>. But for <code>tabr</code> repeat functions,
<code>n</code> always refers to the <em>number of repeats</em> added to
the initial play, or one less than the total number of plays. Therefore,
<code>n</code> always begins counting from one (the default), since
there is no reason to use these repeat functions when not repeating
anything.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="fu"><a href="../reference/append_phrases.html">pn</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="../reference/repeats.html">rp</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"example17.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex17.png?raw=true" class="centerimg" width="100%"></p>
<p>In the tablature output above, the first two measures pertaining to
the use of <code><a href="../reference/append_phrases.html">pn()</a></code> are identical to the last two resulting
from <code><a href="../reference/repeats.html">rp()</a></code>. Unfolding a repeated section is no different
than writing it out fully. <code><a href="../reference/repeats.html">rp()</a></code> represents a shortening of
LilyPond markup by applying the <code>\repeat \unfold</code> tag around
the music. The <code>2</code> shown in the LilyPond markup output is the
total number of plays, <code>n + 1</code>. Think of <code><a href="../reference/append_phrases.html">pn()</a></code> as
a more general purpose helper function in <code>tabr</code> for pasting
copies of strings together whereas <code><a href="../reference/repeats.html">rp()</a></code> might be used when
you are thinking more specifically about meaningful, discrete section of
music.</p>
</div>
<div class="section level2">
<h2 id="percent-repeats">Percent repeats<a class="anchor" aria-label="anchor" href="#percent-repeats"></a>
</h2>
<p>Like <code><a href="../reference/repeats.html">rp()</a></code>, <code><a href="../reference/repeats.html">pct()</a></code> does not remove measures
of music in the tablature output. However, percent repeat symbols can
shorten sheet music in so much as they may make measures of music
smaller in size as a result of having nothing else to print in the
measure but the repeat symbol itself. They can also make the
transcription less messy or straining on the eyes particularly when the
section being repeated with percent symbols is one that uses a lot of
ink on the page.</p>
<p>The next example uses <code><a href="../reference/repeats.html">pct()</a></code> with the previous phrase and
follows with a high ink measure using percent repeats for another four
measures.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repeats.html">pct</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat percent 4 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 }</span></span>
<span><span class="co">#&gt; </span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phrase.html">p</a></span><span class="op">(</span><span class="st">"g,b,dgbg'*16"</span>, <span class="fl">16</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="fu"><a href="../reference/repeats.html">pct</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">3</span><span class="op">)</span>, <span class="fu"><a href="../reference/repeats.html">pct</a></span><span class="op">(</span><span class="va">p2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"example18.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex18.png?raw=true" class="centerimg" width="100%"></p>
<p>It is nice to not have to stare at those rapid bar chords in every
measure. The earlier measures are also shorter as a result of not having
to display all the notes.</p>
</div>
<div class="section level2">
<h2 id="volta-repeats">Volta repeats<a class="anchor" aria-label="anchor" href="#volta-repeats"></a>
</h2>
<p>Finally there is the <code><a href="../reference/repeats.html">volta()</a></code> repeat function. Unlike
<code><a href="../reference/repeats.html">rp()</a></code> and <code><a href="../reference/repeats.html">pct()</a></code>, <code>volta</code> must be
applied to whole measures of music. The endings also must be whole
measures. It is also the only way to specify repeats with alternate
endings, though not required. In either case, this type of repeat
notation does remove entire measures of music from the output.</p>
<p>The examples below uses <code><a href="../reference/repeats.html">volta()</a></code> with the original phrase
various endings. Here are the endings.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">e1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phrase.html">p</a></span><span class="op">(</span><span class="st">"f a c' f'"</span>, <span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">e2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phrase.html">p</a></span><span class="op">(</span><span class="st">"c*8"</span>, <span class="fl">8</span><span class="op">)</span></span>
<span><span class="va">e3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phrase.html">p</a></span><span class="op">(</span><span class="st">"cegc'e'"</span>, <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="no-alternate-endings">No alternate endings<a class="anchor" aria-label="anchor" href="#no-alternate-endings"></a>
</h3>
<p>When <code>n = 1</code> repeat, <code><a href="../reference/repeats.html">volta()</a></code> simply adds the
double bars around the section. With no other annotation in the sheet
music, it is assumed that the section is repeated one time. When
<code>n</code> is greater than one, annotation appears clarifying the
number of times to play the section.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat volta 2 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 | }</span></span>
<span><span class="co">#&gt; </span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat volta 3 { &lt;c&gt;8^"Play 3 times." &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 | }</span></span>
<span><span class="co">#&gt; </span></span></code></pre>
<p>For brevity, concatenate both of these. Note that the volta repeat
bar at the beginning of a repeated section is omitted from the staff if
it occurs at the start of the song.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span>, <span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"example19.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex19.png?raw=true" class="centerimg" width="100%"></p>
<p>There are instances where you want to suppress this annotation.
Specifically, if there are multiple tab staffs present, there is no need
to print the same annotation above every staff other than the top one.
Also, there is the edge case where notes in the section may already have
annotations attached to them via <code><a href="../reference/notate.html">notate()</a></code>, in which case
the above annotation may get in the way. It can be suppressed in
<code><a href="../reference/repeats.html">volta()</a></code> with <code>silent = TRUE</code>.</p>
</div>
<div class="section level3">
<h3 id="single-alternate-ending">Single alternate ending<a class="anchor" aria-label="anchor" href="#single-alternate-ending"></a>
</h3>
<p>When alternate endings are used with <code><a href="../reference/repeats.html">volta()</a></code>, the
annotation above the staff is never included because the number of times
the section is played is clear from the explicit endings numbering. Note
that when the number of repeats exceeds the number of alternate endings,
the initial alternate ending is reused first until the number of
remaining repeats are covered by the alternate endings. The subsequent
alternate endings are not recycled.</p>
<p>To be clear, the phrase passed to <code><a href="../reference/repeats.html">volta()</a></code> does not
contain or represent its own implicit default ending. When used without
alternate endings, there is no “ending”; it is just the phrase. When
alternate endings are provided, they represent all endings. The first
alternate is the “default” if you want to think of it this way.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">1</span>, <span class="va">e1</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat volta 2 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 | }</span></span>
<span><span class="co">#&gt; \alternative {</span></span>
<span><span class="co">#&gt;   { &lt;f&gt;4 &lt;a&gt;4 &lt;c'&gt;4 &lt;f'&gt;4 | }</span></span>
<span><span class="co">#&gt; }</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span>, <span class="va">e1</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat volta 3 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 | }</span></span>
<span><span class="co">#&gt; \alternative {</span></span>
<span><span class="co">#&gt;   { &lt;f&gt;4 &lt;a&gt;4 &lt;c'&gt;4 &lt;f'&gt;4 | }</span></span>
<span><span class="co">#&gt; }</span></span></code></pre>
<p>As before, concatenate the above two examples. For the remaining
examples using alternate endings, a single measure of a whole note C is
added after repeated sections to separate them and provide a better
sense of the context.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">c1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phrase.html">p</a></span><span class="op">(</span><span class="st">"c"</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">1</span>, <span class="va">e1</span><span class="op">)</span>, <span class="va">c1</span>, <span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span>, <span class="va">e1</span><span class="op">)</span>, <span class="va">c1</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"example20.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex20.png?raw=true" class="centerimg" width="100%"></p>
</div>
<div class="section level3">
<h3 id="multiple-alternate-endings">Multiple alternate endings<a class="anchor" aria-label="anchor" href="#multiple-alternate-endings"></a>
</h3>
<p>Multiple alternate endings work similarly to single. The first ending
is recycled if necessary. Subsequent endings are used once. If you want
to use these subsequent ending more than once, just provide it
accordingly. Clearly, there is no reason to provide more endings than
the number of times the section is played. If extra endings are
providing, LilyPond will issue a warning when rendering the document
notifying that there are more alternates than repeats and that the
excess have been ignored.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">e1</span>, <span class="va">e2</span>, <span class="va">e3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">e1</span>, <span class="va">e2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">x3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/repeats.html">volta</a></span><span class="op">(</span><span class="va">p1</span>, <span class="fl">2</span>, <span class="va">e1</span><span class="op">)</span></span>
<span><span class="va">x1</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat volta 3 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 | }</span></span>
<span><span class="co">#&gt; \alternative {</span></span>
<span><span class="co">#&gt;   { &lt;f&gt;4 &lt;a&gt;4 &lt;c'&gt;4 &lt;f'&gt;4 | }</span></span>
<span><span class="co">#&gt;   { &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 | }</span></span>
<span><span class="co">#&gt;   { &lt;c e g c' e'&gt;1 | }</span></span>
<span><span class="co">#&gt; }</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x2</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat volta 3 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 | }</span></span>
<span><span class="co">#&gt; \alternative {</span></span>
<span><span class="co">#&gt;   { &lt;f&gt;4 &lt;a&gt;4 &lt;c'&gt;4 &lt;f'&gt;4 | }</span></span>
<span><span class="co">#&gt;   { &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 &lt;c&gt;8 | }</span></span>
<span><span class="co">#&gt; }</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x3</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; \repeat volta 3 { &lt;c&gt;8 &lt;e&gt;8 &lt;g&gt;8 &lt;c'&gt;8 &lt;e'&gt;8 &lt;c'&gt;8 &lt;g&gt;8 &lt;e&gt;8 | }</span></span>
<span><span class="co">#&gt; \alternative {</span></span>
<span><span class="co">#&gt;   { &lt;f&gt;4 &lt;a&gt;4 &lt;c'&gt;4 &lt;f'&gt;4 | }</span></span>
<span><span class="co">#&gt; }</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="va">x1</span>, <span class="va">c1</span>, <span class="va">x2</span>, <span class="va">c1</span>, <span class="va">x3</span>, <span class="va">c1</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"example21.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex21.png?raw=true" class="centerimg" width="100%"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/leonawicz" class="external-link">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
