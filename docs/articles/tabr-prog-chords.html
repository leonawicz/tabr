<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chord functions • tabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Chord functions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tabr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><h6 class="dropdown-header" data-toc-skip>Programming</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-nw.html">Noteworthiness</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-scales.html">Musical scales</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-notes.html">Note functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-chords.html">Chord functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-noteinfo.html">Time and note info</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-music.html">The music class</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-converters.html">Syntax converters</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-fretboard.html">Fretboard diagram plots</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Transcription</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-basics.html">Basic overview</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-phrases.html">Musical phrases</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-helpers.html">Phrase helpers</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chords.html">Chords</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-repeats.html">Repeats</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tracks-scores.html">Tracks and scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-engraving.html">Render scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-snippets.html">Music snippets</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chordchart.html">Render chord chart</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tunings.html">Strings and tunings</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/tabr-ex1.html">Tuning and capo</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex2.html">Multiple voices</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex3.html">AC2 - Ezio's family</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex4.html">Gin Wigmore - Devil in me</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/leonawicz/tabr"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Chord functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/tabr/blob/HEAD/vignettes/tabr-prog-chords.Rmd" class="external-link"><code>vignettes/tabr-prog-chords.Rmd</code></a></small>
      <div class="d-none name"><code>tabr-prog-chords.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="chord-identity-and-comparison">Chord identity and comparison<a class="anchor" aria-label="anchor" href="#chord-identity-and-comparison"></a>
</h2>
<p>You have already seen <code><a href="../reference/valid-notes.html">is_chord()</a></code>, which is similar to
<code><a href="../reference/valid-notes.html">is_note()</a></code>. Another check you have seen is
<code><a href="../reference/is_diatonic.html">is_diatonic()</a></code>. You can also check whether a chords are
major or minor, but this is imperfect due to the inability to know if
the user is interpreting their notation of a chord as an inversion.
Instances where it is too difficult to tell, or inapplicable such as
with single notes, return <code>NA</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"b c ce_g cd#g"</span></span>
<span><span class="fu"><a href="../reference/is_diatonic.html">is_diatonic</a></span><span class="op">(</span><span class="va">x</span>, key <span class="op">=</span> <span class="st">"b_"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE</span></span></code></pre>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord_is_major.html">chord_is_major</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1]    NA    NA FALSE FALSE</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord_is_major.html">chord_is_minor</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1]   NA   NA TRUE TRUE</span></span></code></pre>
<p>A few functions that compare chords are <code><a href="../reference/chord-compare.html">chord_rank()</a></code>,
<code><a href="../reference/chord-compare.html">chord_order()</a></code> and <code><a href="../reference/chord-compare.html">chord_sort()</a></code>. Ranking
chords, and the ordering and sorting based on that, requires a
definition or set of definitions to work from.</p>
<p>The first argument is a noteworthy string. The second,
<code>pitch</code>, can be <code>"min"</code> (the default),
<code>"mean"</code>, or <code>"max"</code>. Each of these refers to the
functions that operate on the three available definitions of ranking
chords. When ranking individual notes, the result is fixed because there
are only two pitches being compared. For chords, however,
<code>pitch = "min"</code> compares only the lowest pitch or root note
of a chord. For <code>pitch = "max"</code>, the highest pitch note in
each chord is used for establishing rank. For
<code>pitch = "mean"</code>, the average of all notes in the chord are
used for ranking chords.</p>
<p>Rank is from lowest to highest pitch. These options define how chords
are ranked, but each function below also passes on additional arguments
via <code>...</code> to the base functions <code><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank()</a></code> and
<code><a href="https://rdrr.io/r/base/order.html" class="external-link">order()</a></code> for the additional control over the more general
aspects of how ranking and ordering are done in R.
<code><a href="../reference/chord-compare.html">chord_order()</a></code> works analogously to
<code><a href="../reference/chord-compare.html">chord_rank()</a></code>. <code><a href="../reference/chord-compare.html">chord_sort()</a></code> wraps around
<code><a href="../reference/chord-compare.html">chord_order()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"a2 c a2 ceg ce_g cea"</span></span>
<span><span class="fu"><a href="../reference/chord-compare.html">chord_rank</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"min"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] 1.5 4.5 1.5 4.5 4.5 4.5</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-compare.html">chord_rank</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"max"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] 1.5 3.0 1.5 4.5 4.5 6.0</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-compare.html">chord_rank</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"mean"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] 1.5 3.0 1.5 5.0 4.0 6.0</span></span></code></pre>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/chord-compare.html">chord_order</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] 1 3 2 4 5 6</span></span></code></pre>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-compare.html">chord_order</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"mean"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] 1 3 2 5 4 6</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/chord-compare.html">chord_sort</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">"mean"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: a2 a2 c &lt;ce_g&gt; &lt;ceg&gt; &lt;cea&gt;</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="slice-and-filter-chords">Slice and filter chords<a class="anchor" aria-label="anchor" href="#slice-and-filter-chords"></a>
</h2>
<p>Chords can be sliced or indexed using the functions
<code><a href="../reference/chord-filter.html">chord_root()</a></code>, <code><a href="../reference/chord-filter.html">chord_top()</a></code> and
<code><a href="../reference/chord-filter.html">chord_slice()</a></code>. The first two are special cases of
<code>chord_slice</code>. The first two functions return a noteworthy
string containing only the root or top notes of each chord. If the
string contains a single note, by definition the note is returned.</p>
<p>For <code><a href="../reference/chord-filter.html">chord_slice()</a></code>, however, an integer index range is
provided and it is possible to reduce a note or chord to nothing by
passing indices that are completely out of bounds. Any note or chord
that is completely sliced away is dropped.</p>
<p>The example below also shows that what matters is pitch order, not
the order in which notes in a chord are entered in the string.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"a2 ceg e_gc egc,cc'"</span></span>
<span><span class="fu"><a href="../reference/chord-filter.html">chord_root</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: a, c c c,</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-filter.html">chord_top</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: a, g g c'</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/identical.html" class="external-link">identical</a></span><span class="op">(</span><span class="fu"><a href="../reference/chord-filter.html">chord_slice</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">1</span><span class="op">)</span>, <span class="fu"><a href="../reference/chord-filter.html">chord_root</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] TRUE</span></span></code></pre>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/chord-filter.html">chord_slice</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: e e_ c</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-filter.html">chord_slice</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: g</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-filter.html">chord_slice</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: g g &lt;egc'&gt;</span></span></code></pre>
<p>The slicing functions deal with position <em>within</em> a chord;
they are not a simple reproduction of vector indexing of time steps,
which is trivial and can already be done with <code><a href="../reference/note_slice.html">note_slice()</a></code>
(clearly not slicing a single note, but a noteworthy string). Filtering
the <em>sequence</em> rather than the elements within it is best done by
taking the results of a function that returns a logical vector and
passing them to <code><a href="../reference/note_slice.html">note_slice()</a></code>. This tends to fall under the
topic of general noteworthy string functions and does not apply strictly
to chords, but an example is shown here.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"a2 ceg e_gc egc,cc'"</span></span>
<span><span class="fu"><a href="../reference/note_slice.html">note_slice</a></span><span class="op">(</span><span class="va">x</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;e_gc&gt; &lt;egc,cc'&gt;</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/note_slice.html">note_slice</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="../reference/valid-notes.html">is_chord</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;ceg&gt; &lt;e_gc&gt; &lt;egc,cc'&gt;</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="chord-transformations">Chord transformations<a class="anchor" aria-label="anchor" href="#chord-transformations"></a>
</h2>
<p>A broken chord can be created with <code><a href="../reference/chord_break.html">chord_break()</a></code>, which
separates a chord into its component notes, separating in time. It
accepts a single chord.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"ce_g"</span></span>
<span><span class="fu"><a href="../reference/chord_break.html">chord_break</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: c e_ g</span></span></code></pre>
<p><code><a href="../reference/chord_invert.html">chord_invert()</a></code> creates chord inversions. It also takes a
single chord as input. It treats any chord as being in root position as
provided. The example below applies the function over a series of
inversion values to show how the output changes.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="op">(</span><span class="op">-</span><span class="fl">3</span><span class="op">)</span><span class="op">:</span><span class="fl">3</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="../reference/chord_invert.html">chord_invert</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">i</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;c2e_2g2&gt; &lt;e_2g2c&gt; &lt;g2ce_&gt; &lt;ce_g&gt; &lt;e_gc4&gt; &lt;gc4e_4&gt; &lt;c4e_4g4&gt;</span></span></code></pre>
<p>While a chord with <code>n</code> notes has <code>n - 1</code>
inversions, <code><a href="../reference/chord_invert.html">chord_invert()</a></code> allows inversions to continue,
moving a chord further up or down in octaves. If you want to restrict
the function to only allowing the defined number of inversions
(excluding root position), set <code>limit = TRUE</code>. This enforces
the rule that, for example, a chord with three notes has two inversions
and <code>n</code> can only take values between <code>-2</code> and
<code>2</code> or it will throw and error.</p>
<p>Building up on <code><a href="../reference/chord_invert.html">chord_invert()</a></code>,
<code><a href="../reference/chord_arpeggiate.html">chord_arpeggiate()</a></code> grows a chord up or down the scale in
pitch by creating an arpeggio. <code>n</code> describes how many steps
to add onto the original chord. Setting <code>by = "chord"</code> will
replicate the entire chord as is, up or down the scale. In this case
<code>n</code> indicates whole octave transposition steps. By default,
<code>n</code> refers to the number of steps that individual chord notes
are arpeggiated, like in <code><a href="../reference/chord_invert.html">chord_invert()</a></code>. This means for
example that in a chord with three notes, setting <code>n = 3</code> and
<code>by = "note"</code> is equivalent to setting <code>n = 1</code> and
<code>by = "chord"</code>.</p>
<p>The argument <code>broken = TRUE</code> will also convert to a broken
chord, resulting in an arpeggio of individual notes.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span><span class="op">(</span><span class="st">"ce_gb_"</span>, <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: vectorized time</span></span>
<span><span class="co">#&gt;   Values: &lt;ce_gb_&gt; &lt;e_gb_c4&gt; &lt;gb_c4e_4&gt;</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span><span class="op">(</span><span class="st">"ce_gb_"</span>, <span class="op">-</span><span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: vectorized time</span></span>
<span><span class="co">#&gt;   Values: &lt;ce_gb_&gt; &lt;b_2ce_g&gt; &lt;g2b_2ce_&gt;</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span><span class="op">(</span><span class="st">"ce_gb_"</span>, <span class="fl">2</span>, by <span class="op">=</span> <span class="st">"chord"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: vectorized time</span></span>
<span><span class="co">#&gt;   Values: &lt;ce_gb_&gt; &lt;c4e_4g4b_4&gt; &lt;c5e_5g5b_5&gt;</span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord_arpeggiate.html">chord_arpeggiate</a></span><span class="op">(</span><span class="st">"ce_gb_"</span>, <span class="fl">1</span>, broken <span class="op">=</span> <span class="cn">TRUE</span>, collapse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: c e_ g b_ e_ g b_ c4</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="dyads">Dyads<a class="anchor" aria-label="anchor" href="#dyads"></a>
</h2>
<p>Before introducing the chord constructors, here is a brief mention
and example of the <code><a href="../reference/dyad.html">dyad()</a></code> function for constructing dyads
from a root note and and interval. Dyads are not always considered
chords, but this is as good a place as any to mention
<code><a href="../reference/dyad.html">dyad()</a></code> since the key distinction made in <code>tabr</code>
in this context is whether there is a single note or multiple notes. The
interval passed to <code><a href="../reference/dyad.html">dyad()</a></code> can be in semitones, or a named
interval from <code>mainIntervals</code> that corresponds to the number
of semitones.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dyad.html">dyad</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="fl">3</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;ac'&gt;</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"minor third"</span>, <span class="st">"m3"</span>, <span class="st">"augmented second"</span>, <span class="st">"A2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/dyad.html">dyad</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;ac'&gt; &lt;ac'&gt; &lt;ac'&gt; &lt;ac'&gt;</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/dyad.html">dyad</a></span><span class="op">(</span><span class="st">"c'"</span>, <span class="va">x</span>, reverse <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;ac'&gt; &lt;ac'&gt; &lt;ac'&gt; &lt;ac'&gt;</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="predefined-chord-constructors">Predefined chord constructors<a class="anchor" aria-label="anchor" href="#predefined-chord-constructors"></a>
</h2>
<p>Now to the topic of chord construction, there are two general forms
of chord construction currently available in <code>tabr</code>. The
first is for typical chords based on their defining intervals; i.e.,
“piano chords”. These are not particularly useful for guitar-specific
chord shapes and fingerings, which generally span a greater pitch range.
See further below for guitar chords.</p>
<p>In <code>tabr</code> chords are often constructed from scratch by
explicitly typing the chord pitches in a noteworthy string, but many
chords can also be constructed using helper functions. Currently,
helpers exist for common chords up through thirteenths.
<code>tabr</code> offers two options for each chord constructor function
name: the longer <code>chord_*</code>-named function and its
<code>x*</code> alias. The table below shows all available
constructors.</p>
<pre class="r-output"><code><span><span class="co">#&gt;        full_name abbreviation</span></span>
<span><span class="co">#&gt; 1      chord_min           xm</span></span>
<span><span class="co">#&gt; 2      chord_maj           xM</span></span>
<span><span class="co">#&gt; 3     chord_min7          xm7</span></span>
<span><span class="co">#&gt; 4     chord_dom7           x7</span></span>
<span><span class="co">#&gt; 5      chord_7s5         x7s5</span></span>
<span><span class="co">#&gt; 6     chord_maj7          xM7</span></span>
<span><span class="co">#&gt; 7     chord_min6          xm6</span></span>
<span><span class="co">#&gt; 8     chord_maj6          xM6</span></span>
<span><span class="co">#&gt; 9      chord_dim         xdim</span></span>
<span><span class="co">#&gt; 10    chord_dim7        xdim7</span></span>
<span><span class="co">#&gt; 11    chord_m7b5        xm7b5</span></span>
<span><span class="co">#&gt; 12     chord_aug         xaug</span></span>
<span><span class="co">#&gt; 13       chord_5           x5</span></span>
<span><span class="co">#&gt; 14    chord_sus2          xs2</span></span>
<span><span class="co">#&gt; 15    chord_sus4          xs4</span></span>
<span><span class="co">#&gt; 16    chord_dom9           x9</span></span>
<span><span class="co">#&gt; 17     chord_7s9         x7s9</span></span>
<span><span class="co">#&gt; 18    chord_maj9          xM9</span></span>
<span><span class="co">#&gt; 19    chord_add9        xadd9</span></span>
<span><span class="co">#&gt; 20    chord_min9          xm9</span></span>
<span><span class="co">#&gt; 21   chord_madd9         xma9</span></span>
<span><span class="co">#&gt; 22   chord_min11         xm11</span></span>
<span><span class="co">#&gt; 23    chord_7s11        x7s11</span></span>
<span><span class="co">#&gt; 24 chord_maj7s11       xM7s11</span></span>
<span><span class="co">#&gt; 25      chord_11         x_11</span></span>
<span><span class="co">#&gt; 26   chord_maj11         xM11</span></span>
<span><span class="co">#&gt; 27      chord_13         x_13</span></span>
<span><span class="co">#&gt; 28   chord_min13         xm13</span></span>
<span><span class="co">#&gt; 29   chord_maj13         xM13</span></span></code></pre>
<p>These functions take root notes and a key signature as input. The
given function determines the intervals of the chord. This in
combination with a root note is all that is needed to create the chord.
However, the key signature can enforce whether the result uses flats or
sharps when accidentals are present.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chords.html">chord_min7</a></span><span class="op">(</span><span class="st">"a c e"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;ac'e'g'&gt; &lt;ce_gb_&gt; &lt;egbd'&gt;</span></span></code></pre>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chords.html">chord_min7</a></span><span class="op">(</span><span class="st">"a c e"</span>, key <span class="op">=</span> <span class="st">"f"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;ac'e'g'&gt; &lt;ce_gb_&gt; &lt;egbd'&gt;</span></span></code></pre>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chords.html">xm7</a></span><span class="op">(</span><span class="st">"a c e"</span>, key <span class="op">=</span> <span class="st">"f"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;ac'e'g'&gt; &lt;ce_gb_&gt; &lt;egbd'&gt;</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="predefined-guitar-chords">Predefined guitar chords<a class="anchor" aria-label="anchor" href="#predefined-guitar-chords"></a>
</h2>
<p>The dataset <code>guitarChords</code> is a tibble containing 3,967
rows of predefined guitar chords. It is highly redundant, but convenient
to use. It is generated from a much smaller chords basis set, that is
then transposed over all notes, yielding chord types and shapes for all
twelve notes. Chords begin from open position and range up one octave to
chords whose lowest fret is eleven. There are also multiple chord
voicings for many chord types. Finally, chords containing accidentals
are included in the table with both the flat and sharp versions.</p>
<p>There are twelve columns. Again, some of the column-wise information
is also redundant, but it is not a big deal to include and removes the
need to do a variety of computations to map from one representation of
chord information to another. Here are the first ten rows:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">guitarChords</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 3,967 × 12</span></span>
<span><span class="co">#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes      frets </span></span>
<span><span class="co">#&gt;    &lt;fct&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;      &lt;chr&gt; </span></span>
<span><span class="co">#&gt;  1 M     a,:5    a          2         0        0           5 a,eac#'e'  xo222o</span></span>
<span><span class="co">#&gt;  2 M     a,:5    a          2         0        0           5 a,ead_'e'  xo222o</span></span>
<span><span class="co">#&gt;  3 m     a,:m    a          2         0        0           5 a,eac'e'   xo221o</span></span>
<span><span class="co">#&gt;  4 7     a,:7    a          2         0        0           5 a,egc#'e'  xo2o2o</span></span>
<span><span class="co">#&gt;  5 7     a,:7    a          2         0        0           5 a,egd_'e'  xo2o2o</span></span>
<span><span class="co">#&gt;  6 M7    a,:maj7 a          2         0        0           5 a,eg#c#'e' xo212o</span></span>
<span><span class="co">#&gt;  7 M7    a,:maj7 a          2         0        0           5 a,ea_d_'e' xo212o</span></span>
<span><span class="co">#&gt;  8 m7    a,:m7   a          2         0        0           5 a,egc'e'   xo2o1o</span></span>
<span><span class="co">#&gt;  9 sus2  a,:sus2 a          2         0        0           5 a,eabe'    xo22oo</span></span>
<span><span class="co">#&gt; 10 sus4  a,:sus4 a          2         0        0           5 a,ead'e'   xo223o</span></span>
<span><span class="co">#&gt; # ℹ 3,957 more rows</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: semitones &lt;list&gt;, fretboard &lt;chr&gt;, open &lt;lgl&gt;</span></span></code></pre>
<div class="section level3">
<h3 id="defining-new-guitar-chord-collections">Defining new guitar chord collections<a class="anchor" aria-label="anchor" href="#defining-new-guitar-chord-collections"></a>
</h3>
<p>You can also define your own chords using <code><a href="../reference/chord_def.html">chord_def()</a></code>.
All you need are the fret numbers for the fretted chord. Currently it is
assumed to be a six-string instrument. The default tuning is standard,
but this can be changed arbitrarily. <code>NA</code> indicates a muted
string. Order is from lowest pitch string to highest. In the example
below, create a set of minor chords based on the open <code>Am</code>
shape.</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">frets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/chord_def.html">chord_def</a></span><span class="op">(</span><span class="va">frets</span>, <span class="st">"m"</span>, <span class="fl">6</span><span class="op">)</span> <span class="co"># sixth entry (highest string: string #1) is optional</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 1 × 13</span></span>
<span><span class="co">#&gt;   id    lp_name root  octave root_fret min_fret bass_string notes    frets </span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;    &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1 m     a,:m    a          2         0        0           5 a,eac'e' xo221o</span></span>
<span><span class="co">#&gt; # ℹ 4 more variables: semitones &lt;list&gt;, optional &lt;chr&gt;, fretboard &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   open &lt;lgl&gt;</span></span></code></pre>
<p><code>guitarChords</code> does not currently contain the
<code>optional</code> column, but this is a column where you can
indicate optional chord notes, as shown above.</p>
<p><code><a href="../reference/chord_def.html">chord_def()</a></code> is scalar and defines a single chord, always
returning a table with one row, but you can map over it however you need
in order to define a collection of chords. Below, a set of chords is
generated with sharps and again with flats.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_dfr</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, <span class="op">~</span><span class="fu"><a href="../reference/chord_def.html">chord_def</a></span><span class="op">(</span><span class="va">frets</span> <span class="op">+</span> <span class="va">.x</span>, <span class="st">"m"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 12 × 13</span></span>
<span><span class="co">#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes         frets</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 m     b_,:m   b_         2         1        1           5 b_,fb_d_'f'   x133…</span></span>
<span><span class="co">#&gt;  2 m     b,:m    b          2         2        2           5 b,g_bd'g_'    x244…</span></span>
<span><span class="co">#&gt;  3 m     c:m     c          3         3        3           5 cgc'e_'g'     x355…</span></span>
<span><span class="co">#&gt;  4 m     d_:m    d_         3         4        4           5 d_a_d_'e'a_'  x466…</span></span>
<span><span class="co">#&gt;  5 m     d:m     d          3         5        5           5 dad'f'a'      x577…</span></span>
<span><span class="co">#&gt;  6 m     e_:m    e_         3         6        6           5 e_b_e_'g_'b_' x688…</span></span>
<span><span class="co">#&gt;  7 m     e:m     e          3         7        7           5 ebe'g'b'      x799…</span></span>
<span><span class="co">#&gt;  8 m     f:m     f          3         8        8           5 fc'f'a_'c''   x8(1…</span></span>
<span><span class="co">#&gt;  9 m     g_:m    g_         3         9        9           5 g_d_'g_'a'd_… x9(1…</span></span>
<span><span class="co">#&gt; 10 m     g:m     g          3        10       10           5 gd'g'b_'d''   x(10…</span></span>
<span><span class="co">#&gt; 11 m     a_:m    a_         3        11       11           5 a_e_'a_'b'e_… x(11…</span></span>
<span><span class="co">#&gt; 12 m     a:m     a          3        12       12           5 ae'a'c''e''   x(12…</span></span>
<span><span class="co">#&gt; # ℹ 4 more variables: semitones &lt;list&gt;, optional &lt;lgl&gt;, fretboard &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   open &lt;lgl&gt;</span></span></code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_dfr</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span>, <span class="op">~</span><span class="fu"><a href="../reference/chord_def.html">chord_def</a></span><span class="op">(</span><span class="va">frets</span> <span class="op">+</span> <span class="va">.x</span>, <span class="st">"m"</span>, key <span class="op">=</span> <span class="st">"f"</span><span class="op">)</span><span class="op">)</span> <span class="co"># flats</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 12 × 13</span></span>
<span><span class="co">#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes         frets</span></span>
<span><span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;int&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 m     b_,:m   b_         2         1        1           5 b_,fb_d_'f'   x133…</span></span>
<span><span class="co">#&gt;  2 m     b,:m    b          2         2        2           5 b,g_bd'g_'    x244…</span></span>
<span><span class="co">#&gt;  3 m     c:m     c          3         3        3           5 cgc'e_'g'     x355…</span></span>
<span><span class="co">#&gt;  4 m     d_:m    d_         3         4        4           5 d_a_d_'e'a_'  x466…</span></span>
<span><span class="co">#&gt;  5 m     d:m     d          3         5        5           5 dad'f'a'      x577…</span></span>
<span><span class="co">#&gt;  6 m     e_:m    e_         3         6        6           5 e_b_e_'g_'b_' x688…</span></span>
<span><span class="co">#&gt;  7 m     e:m     e          3         7        7           5 ebe'g'b'      x799…</span></span>
<span><span class="co">#&gt;  8 m     f:m     f          3         8        8           5 fc'f'a_'c''   x8(1…</span></span>
<span><span class="co">#&gt;  9 m     g_:m    g_         3         9        9           5 g_d_'g_'a'd_… x9(1…</span></span>
<span><span class="co">#&gt; 10 m     g:m     g          3        10       10           5 gd'g'b_'d''   x(10…</span></span>
<span><span class="co">#&gt; 11 m     a_:m    a_         3        11       11           5 a_e_'a_'b'e_… x(11…</span></span>
<span><span class="co">#&gt; 12 m     a:m     a          3        12       12           5 ae'a'c''e''   x(12…</span></span>
<span><span class="co">#&gt; # ℹ 4 more variables: semitones &lt;list&gt;, optional &lt;lgl&gt;, fretboard &lt;chr&gt;,</span></span>
<span><span class="co">#&gt; #   open &lt;lgl&gt;</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="related-helper-functions">Related helper functions<a class="anchor" aria-label="anchor" href="#related-helper-functions"></a>
</h3>
<p>Several functions are available that glean specific information from
<code>guitarChords</code>. The functions <code><a href="../reference/lp_chord_id.html">lp_chord_id()</a></code> and
<code><a href="../reference/lp_chord_id.html">lp_chord_mod()</a></code> obtain the LilyPond chord name and LilyPond
chord modifier (suffix), given a root note and <code>tabr</code> format
chord name/modifier. It is not quite identical to LilyPond format (set
<code>exact = TRUE</code>). See function documentation for details.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lp_chord_id.html">lp_chord_id</a></span><span class="op">(</span><span class="st">"a a a"</span>, <span class="st">"m M m7_5"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] "a:m"    "a:5"    "a:m7_5"</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/lp_chord_id.html">lp_chord_mod</a></span><span class="op">(</span><span class="st">"a a a"</span>, <span class="st">"m M m7_5"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] "m"    "5"    "m7_5"</span></span></code></pre>
<p><code><a href="../reference/chord-mapping.html">gc_is_known()</a></code> checks against <code>guitarChords</code>
to see if the explicit chord, as given by its component pitches, exists
in the dataset. Notice below that <code>a</code> in the string of notes
is a note, not a major <code>A</code> chord, and hence returns
<code>FALSE</code>. In the <code>gc_name_*</code> functions, the same
<code>a</code> is now interpreted as a major chord because these
functions operate on chord name inputs.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-mapping.html">gc_is_known</a></span><span class="op">(</span><span class="st">"a b_,fb_d'f'"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] FALSE  TRUE</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"a aM b_,m7#5"</span></span>
<span><span class="fu"><a href="../reference/chord-mapping.html">gc_name_split</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 3 × 2</span></span>
<span><span class="co">#&gt;   root  mod  </span></span>
<span><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;</span></span>
<span><span class="co">#&gt; 1 a     M    </span></span>
<span><span class="co">#&gt; 2 a     M    </span></span>
<span><span class="co">#&gt; 3 b_,   m7#5</span></span></code></pre>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-mapping.html">gc_name_root</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] "a"   "a"   "b_,"</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-mapping.html">gc_name_mod</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; [1] "M"    "M"    "m7#5"</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="guitar-chord-construction">Guitar chord construction<a class="anchor" aria-label="anchor" href="#guitar-chord-construction"></a>
</h2>
<p>The most interesting use of <code>guitarChords</code> is in using it
to map from chord names to noteworthy strings.</p>
<div class="section level3">
<h3 id="chord-information">Chord information<a class="anchor" aria-label="anchor" href="#chord-information"></a>
</h3>
<p><code><a href="../reference/chord-mapping.html">gc_info()</a></code> can be used to filter
<code>guitarChords</code>. In the examples below, you can see that
multiple chord names can be supplied at once. All are used to filter the
chord dataset. If the inputs do not exist, an empty tibble with zero
rows is returned. The result is not vectorized to match the number of
entries in the input; it is simply a row filter for
<code>guitarChords</code>.</p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-mapping.html">gc_info</a></span><span class="op">(</span><span class="st">"a"</span><span class="op">)</span> <span class="co"># a major chord, not a single note</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 6 × 12</span></span>
<span><span class="co">#&gt;   id    lp_name root  octave root_fret min_fret bass_string notes        frets  </span></span>
<span><span class="co">#&gt;   &lt;fct&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 M     a,:5    a          2         0        0           5 a,ead_'e'    xo222o </span></span>
<span><span class="co">#&gt; 2 M     a,:5    a          2         5        5           6 a,ead_'e'a'  577655 </span></span>
<span><span class="co">#&gt; 3 M     a,:5    a          2         5        2           6 a,d_ead_'a'  542225 </span></span>
<span><span class="co">#&gt; 4 M     a:5     a          3         7        7           4 ae'a'd_''    xx79(1…</span></span>
<span><span class="co">#&gt; 5 M     a:5     a          3        12       12           5 ae'a'd_''e'' x(12)(…</span></span>
<span><span class="co">#&gt; 6 M     a:5     a          3        12        9           5 ad_'e'a'd_'' x(12)(…</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: semitones &lt;list&gt;, fretboard &lt;chr&gt;, open &lt;lgl&gt;</span></span></code></pre>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-mapping.html">gc_info</a></span><span class="op">(</span><span class="st">"ceg a#m7_5"</span><span class="op">)</span> <span class="co"># only third entry is a guitar chord</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 6 × 12</span></span>
<span><span class="co">#&gt;   id    lp_name  root  octave root_fret min_fret bass_string notes        frets </span></span>
<span><span class="co">#&gt;   &lt;fct&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;        &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1 m7_5  b_,:m7_5 b_         2         1        0           5 b_,a_d_'e'   x1x12o</span></span>
<span><span class="co">#&gt; 2 m7_5  b_,:m7_5 b_         2         1        1           5 b_,ea_d_'    x1212x</span></span>
<span><span class="co">#&gt; 3 m7_5  b_,:m7_5 b_         2         6        5           6 b_,a_d_'e'   6x665x</span></span>
<span><span class="co">#&gt; 4 m7_5  b_:m7_5  b_         3         8        4           4 b_d_'e'a_'   xx8654</span></span>
<span><span class="co">#&gt; 5 m7_5  b_:m7_5  b_         3         8        8           4 b_e'a_'d_''  xx8999</span></span>
<span><span class="co">#&gt; 6 m7_5  b_:m7_5  b_         3        13       12           5 b_a_'d_''e'' x(13)…</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: semitones &lt;list&gt;, fretboard &lt;chr&gt;, open &lt;lgl&gt;</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-mapping.html">gc_info</a></span><span class="op">(</span><span class="st">"ceg a#m7_5"</span>, key <span class="op">=</span> <span class="st">"f"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 6 × 12</span></span>
<span><span class="co">#&gt;   id    lp_name  root  octave root_fret min_fret bass_string notes        frets </span></span>
<span><span class="co">#&gt;   &lt;fct&gt; &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;        &lt;chr&gt; </span></span>
<span><span class="co">#&gt; 1 m7_5  b_,:m7_5 b_         2         1        0           5 b_,a_d_'e'   x1x12o</span></span>
<span><span class="co">#&gt; 2 m7_5  b_,:m7_5 b_         2         1        1           5 b_,ea_d_'    x1212x</span></span>
<span><span class="co">#&gt; 3 m7_5  b_,:m7_5 b_         2         6        5           6 b_,a_d_'e'   6x665x</span></span>
<span><span class="co">#&gt; 4 m7_5  b_:m7_5  b_         3         8        4           4 b_d_'e'a_'   xx8654</span></span>
<span><span class="co">#&gt; 5 m7_5  b_:m7_5  b_         3         8        8           4 b_e'a_'d_''  xx8999</span></span>
<span><span class="co">#&gt; 6 m7_5  b_:m7_5  b_         3        13       12           5 b_a_'d_''e'' x(13)…</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: semitones &lt;list&gt;, fretboard &lt;chr&gt;, open &lt;lgl&gt;</span></span></code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../reference/chord-mapping.html">gc_info</a></span><span class="op">(</span><span class="st">"a,m c d f,"</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; # A tibble: 23 × 12</span></span>
<span><span class="co">#&gt;    id    lp_name root  octave root_fret min_fret bass_string notes       frets  </span></span>
<span><span class="co">#&gt;    &lt;fct&gt; &lt;chr&gt;   &lt;chr&gt;  &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;       &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 m     a,:m    a          2         0        0           5 a,eac'e'    xo221o </span></span>
<span><span class="co">#&gt;  2 m     a,:m    a          2         5        5           6 a,eac'e'a'  577555 </span></span>
<span><span class="co">#&gt;  3 m     a,:m    a          2         5        2           6 a,cea       5322xx </span></span>
<span><span class="co">#&gt;  4 m     a:m     a          3         7        7           4 ae'a'c''    xx79(1…</span></span>
<span><span class="co">#&gt;  5 m     a:m     a          3        12       12           5 ae'a'c''e'' x(12)(…</span></span>
<span><span class="co">#&gt;  6 m     a:m     a          3        12        9           5 ac'e'a'     x(12)(…</span></span>
<span><span class="co">#&gt;  7 M     c:5     c          3         3        3           5 cgc'e'g'    x35553 </span></span>
<span><span class="co">#&gt;  8 M     c:5     c          3         3        0           5 cegc'e'     x32o1o </span></span>
<span><span class="co">#&gt;  9 M     c:5     c          3         8        8           6 cgc'e'g'c'' 8(10)(…</span></span>
<span><span class="co">#&gt; 10 M     c:5     c          3         8        5           6 cegc'e'c''  875558 </span></span>
<span><span class="co">#&gt; # ℹ 13 more rows</span></span>
<span><span class="co">#&gt; # ℹ 3 more variables: semitones &lt;list&gt;, fretboard &lt;chr&gt;, open &lt;lgl&gt;</span></span></code></pre>
<p>The same properties of <code><a href="../reference/chord-mapping.html">gc_info()</a></code> apply to wrapper
functions around it, namely, <code><a href="../reference/chord-mapping.html">gc_notes()</a></code> and
<code><a href="../reference/chord-mapping.html">gc_fretboard()</a></code>.</p>
</div>
<div class="section level3">
<h3 id="map-chord-names-to-notes">Map chord names to notes<a class="anchor" aria-label="anchor" href="#map-chord-names-to-notes"></a>
</h3>
<p><code><a href="../reference/chord-mapping.html">gc_notes()</a></code> takes chord names that exist in
<code>guitarChords</code> and returns the noteworthy strings needed for
phrase construction. Remember, the is just a basic filter. If you
specify chords imprecisely, the result will contain many more chords
than were in the input. If you specify chords completely unambiguously,
then there is one result for each input. However, this also requires you
do not provide any chord names that are not in
<code>guitarChords</code>, or these will be dropped.</p>
<p>Keep in mind that these functions are under active development and
the approaches they take may change prior to the next CRAN release of
<code>tabr</code>. Currently, the ways you can add precision to your
chord mapping include passing the following optional arguments:</p>
<ul>
<li>
<code>root_octave</code>: the octave number for the root note.</li>
<li>
<code>root_fret</code>: the fret for the root note.</li>
<li>
<code>min_fret</code>: the lowest fret position for a chord.</li>
<li>
<code>bass_string</code>: the lowest unmuted string for a
chord.</li>
<li>
<code>open</code>: open chords, closed/movable chords, or both
(default).</li>
<li>
<code>key</code>: key signature, to enforce sharps or flats when
present.</li>
</ul>
<p>In this example, possible matches from <code>guitarChord</code> are
filtered to any whose root fret is in <code>0:2</code>.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/chord-mapping.html">gc_notes</a></span><span class="op">(</span><span class="st">"a,7 b,m"</span>, root_fret <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">2</span>, ignore_octave <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Noteworthy string&gt;</span></span>
<span><span class="co">#&gt;   Timesteps: 2 (0 notes, 2 chords)</span></span>
<span><span class="co">#&gt;   Octaves: tick</span></span>
<span><span class="co">#&gt;   Accidentals: flat</span></span>
<span><span class="co">#&gt;   Format: space-delimited time</span></span>
<span><span class="co">#&gt;   Values: &lt;a,egd_'e'&gt; &lt;b,g_bd'g_'&gt;</span></span></code></pre>
<p>Notice that the octave information helps further restrict the chord
set with <code>ignore_octave = FALSE</code>.</p>
</div>
<div class="section level3">
<h3 id="fretboard-diagrams">Fretboard diagrams<a class="anchor" aria-label="anchor" href="#fretboard-diagrams"></a>
</h3>
<p>When creating tablature and sheet music with LilyPond, you may wish
to include a chord chart containing fretboard diagrams of the chords as
they are played. Currently, <code>tabr</code> uses the
<code><a href="../reference/chord_set.html">chord_set()</a></code> function to prepare a named character vector of
chords that have quasi-LilyPond chord names and fretboard notation
values, ready to be passed to <code><a href="../reference/score.html">score()</a></code> for proper injection
into LilyPond.</p>
<p>This process and the structure of the data objects involved may
change soon (I have not decided for certain yet). But for the time
being, this is still the process. Therefore, the new function
<code><a href="../reference/chord-mapping.html">gc_fretboard()</a></code> performs the same manipulation using chords
from <code>guitarChords</code>.</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/chord-mapping.html">gc_fretboard</a></span><span class="op">(</span><span class="st">"a,m c d f,"</span>, min_fret <span class="op">=</span> <span class="fl">0</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt;           a,:m            c:5            d:5           f,:5 </span></span>
<span><span class="co">#&gt; "x;o;2;2;1;o;" "x;3;2;o;1;o;" "x;x;o;2;3;2;" "1;3;3;2;1;1;"</span></span></code></pre>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/leonawicz" class="external-link">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
