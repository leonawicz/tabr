<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Musical phrases • tabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="../favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" sizes="any" href="../favicon.ico">
<link rel="manifest" href="../site.webmanifest">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Musical phrases">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tabr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials">
<li><h6 class="dropdown-header" data-toc-skip>Programming</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-nw.html">Noteworthiness</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-scales.html">Musical scales</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-notes.html">Note functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-chords.html">Chord functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-noteinfo.html">Time and note info</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-music.html">The music class</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-converters.html">Syntax converters</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-fretboard.html">Fretboard diagram plots</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Transcription</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-basics.html">Basic overview</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-phrases.html">Musical phrases</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-helpers.html">Phrase helpers</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chords.html">Chords</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-repeats.html">Repeats</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tracks-scores.html">Tracks and scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-engraving.html">Render scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-snippets.html">Music snippets</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chordchart.html">Render chord chart</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tunings.html">Strings and tunings</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples">
<li><a class="dropdown-item" href="../articles/tabr-ex1.html">Tuning and capo</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex2.html">Multiple voices</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex3.html">AC2 - Ezio's family</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex4.html">Gin Wigmore - Devil in me</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/leonawicz/tabr"><span class="fa fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="tabr-phrases_files/kePrint-0.0.1/kePrint.js"></script><link href="tabr-phrases_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Musical phrases</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/tabr/blob/HEAD/vignettes/tabr-phrases.Rmd" class="external-link"><code>vignettes/tabr-phrases.Rmd</code></a></small>
      <div class="d-none name"><code>tabr-phrases.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>This section goes into deeper detail on building musical phrases out
of individual notes using the syntax available for phrase construction.
It also describes how to add note information to the notes in a
phrase.</p>
<p>As mentioned in the last section, “phrase” in <code>tabr</code> does
not require a strict definition. It is recommended to keep phrases short
enough that they do not too much cognitive load. They should also
represent meaningful or convenient segments of music, for example whole
measures, a particular rhythm section, or an identifiable section of a
longer solo.</p>
<p>Writing music notation in R code is not intended to replace LilyPond
markup. You can always write LilyPond markup directly and this will give
you more options and greater control. The motivation for
<code>tabr</code> is primarily music data analysis from a notation
perspective, but to the degree that various types of notation are
supported, it also allows you to transcribe your data to sheet music or
tablature. Working from a programming language like R is also very
different from writing static markup files. While the API is far more
limited than writing LilyPond markup directly, generating music notation
programmatically and creating sheet music dynamically is an entirely
different use case from writing markup for a specific song.</p>
<p>The opening section showed a basic example using a single, and very
simple, phrase. This section will cover phrases that include notes and
rests of different duration, slides, hammer ons and pull offs, simple
string bends, and various other elements. Phrases will become longer and
more visually complex. There is no way around this fact. But with proper
care they can be kept manageable and interpretable, depending on your
comfort level with music theory, notation and R programming.</p>
<p>Before diving in, take a look at the tables below for an overview of
some common syntax and operators that are used throughout this
section.</p>
<pre class="r-output"><code>&lt;!-- KNITR_ASIS_OUTPUT_TOKEN --&gt;&lt;table class="table table-striped table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
&lt;caption&gt;tabr::tabrSyntax&lt;/caption&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; description &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; syntax &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; example &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; note/pitch &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a b ... g &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; sharp &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; # &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a# &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; flat &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; _ &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a_ &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; drop or raise one octave &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; , or ' &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a, a a' &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; octave number &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 0 1 ... &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a2 a3 a4 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; tied notes &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ~ &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; a~ a &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; note duration &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2^n &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 2 4 8 16 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; dotted note &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; . &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2. 2.. &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; slide &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; \- &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2- &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; bend &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ^ &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2^ &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; muted/dead note &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; x &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2x &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; slur/hammer/pull off &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; () &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2( 2) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; rest &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; r &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; r &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; silent rest &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; s &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; s &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; expansion operator &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; \* &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; ceg\*8, 1\*4 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;!-- KNITR_ASIS_OUTPUT_TOKEN --&gt;</code></pre>
<p>There are additional single-note articulations that can be specified,
such as accented or staccato notes. This can be provided using the name
in square brackets, e.g., <code>[accent]</code> or
<code>[staccato]</code>. In special cases an abbreviated syntax is
available, e.g., <code>-^</code> or <code>-.</code>. There are many
options. Some of the most common ones are shown. See the
<code>articulations</code> dataset.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">articulations</span><span class="op">)</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt;       type         value  abb</span></span>
<span><span class="co">#&gt; 1 standard        accent   -&gt;</span></span>
<span><span class="co">#&gt; 2 standard    espressivo &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3 standard       marcato   -^</span></span>
<span><span class="co">#&gt; 4 standard       portato   -_</span></span>
<span><span class="co">#&gt; 5 standard staccatissimo   -!</span></span>
<span><span class="co">#&gt; 6 standard      staccato   -.</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="notes">Notes<a class="anchor" aria-label="anchor" href="#notes"></a>
</h2>
<p>The first argument to <code><a href="../reference/phrase.html">phrase()</a></code> is <code>notes</code>.
Notes are represented simply by the lowercase letters
<code>c d e f g a b</code>.</p>
<div class="section level3">
<h3 id="sharps-and-flats">Sharps and flats<a class="anchor" aria-label="anchor" href="#sharps-and-flats"></a>
</h3>
<p>Sharps are represented by appending <code>#</code> and flats with
<code>_</code>, for example <code>a#</code> or <code>b_</code>. In
phrases and the various <code>tabr</code> functions that operate on
them, these two-character notes are tightly bound and treated as
specific notes just like single letters.</p>
</div>
<div class="section level3">
<h3 id="space-delimited-time">Space-delimited time<a class="anchor" aria-label="anchor" href="#space-delimited-time"></a>
</h3>
<p>A string of notes is separated in time by spaces. Simultaneous notes
are not. For example, <code>"a b c"</code> represents a sequence of
notes in time whereas <code>"ceg"</code> represents simultaneously
played notes of a C major triad chord. For now the focus will remain on
individual notes. The end of this section includes a tiny chord example.
Chords are discussed in more detail in later sections.</p>
<p>Functions in <code>tabr</code> also handle vector-delimited time. It
is not as quick to type out the example below as a vector of notes, but
if you already have a vector you do not have to collapse it. Package
functions will accept either timestep format.</p>
</div>
<div class="section level3">
<h3 id="unambiguous-pitch">Unambiguous pitch<a class="anchor" aria-label="anchor" href="#unambiguous-pitch"></a>
</h3>
<p>While it is allowable to specify note sequences such as
<code>"a b c"</code>, this assumes the default octave (number 3), the
one below middle C. But this may not be what you intend. In the example
here, you might mean the consecutive notes <code>"a2 b2 c3"</code> or
<code>a3 b3 c4</code>.</p>
<p>Combining the note and the octave number specifies the absolute
pitch. LilyPond markup uses single or multiple consecutive commas for
lower octaves and single quote marks for higher octaves. This notation
is permitted by <code>tabr</code> as well. In fact, if you specify
integer suffixes for octave numbering, <code><a href="../reference/phrase.html">phrase()</a></code> will
reinterpret these for you. The following are equivalent, as shown when
printing the LilyPond syntax generated by <code><a href="../reference/phrase.html">phrase()</a></code>.</p>
<p>The second example here also shows the convenient multiplicative
expansion operator <code>*</code> that can be used inside character
strings passed to the three main <code><a href="../reference/phrase.html">phrase()</a></code> arguments. Use
this wherever convenient, though this tutorial section will continue to
write things out explicitly for increased clarity. Other operators like
this one to help shorten repetitive code are introduced later.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c1 c2 c3 c4 c5"</span>, <span class="st">"1 1 1 1 1"</span><span class="op">)</span> <span class="co"># not recommended</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; &lt;c,,&gt;1 &lt;c,&gt;1 &lt;c&gt;1 &lt;c'&gt;1 &lt;c''&gt;1</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c,, c, c c' c''"</span>, <span class="st">"1*5"</span><span class="op">)</span> <span class="co"># recommened format</span></span></code></pre></div>
<pre class="r-output"><code><span><span class="co">#&gt; &lt;Musical phrase&gt;</span></span>
<span><span class="co">#&gt; &lt;c,,&gt;1 &lt;c,&gt;1 &lt;c&gt;1 &lt;c'&gt;1 &lt;c''&gt;1</span></span></code></pre>
<p>In <code>tabr</code> the two formats are referred to as integer and
tick octave numbering. Note that octave number three corresponds to the
central octave (no comma or single quote ticks) with the tick numbering
style. This is why the <code>3</code> can be left off when using the
numbered format. <code>c3</code> corresponds to the lowest C note on a
standard tuned guitar: fifth string, third fret.</p>
<p>For more extreme octaves, the latter style requires more characters.
However, some may find it easier to read for chords like an open E minor
<code>"e,b,egbe'"</code> compared to either <code>"e2b2e3g3b3e4"</code>
or <code>"e2b2egbe4"</code>. Regardless, integer octaves are not
recommended, the primary reason being that they limits functionality.
Numbers are used for indicating time (<code>music</code> class objects).
Therefore, integer octave format can only be used in simple strings and
phrases, not in more complete objects. The tick format also matches that
used by the LilyPond software. For multiple reasons, just use tick
format. The rest of the vignettes stick to tick format except when
making some other specific comparisons.</p>
</div>
</div>
<div class="section level2">
<h2 id="time-the-essential-note-metadata">Time: the essential note metadata<a class="anchor" aria-label="anchor" href="#time-the-essential-note-metadata"></a>
</h2>
<p>Additional information about a note is passed to the second
<code><a href="../reference/phrase.html">phrase()</a></code> argument, <code>info</code>. This enables removing
ambiguities other than the pitch itself. For the moment, only time
duration is introduced. A brief diversion from the <code>info</code>
argument follows in order to cover rests, tied notes, and string
specification; three important elements that can be described with
<code><a href="../reference/phrase.html">phrase()</a></code>, but which are not actually passed via the
<code>info</code> argument. Afterward, focus returns to
<code>info</code> with more detailed coverage of the various note
metadata that is supplied to <code><a href="../reference/phrase.html">phrase()</a></code> via
<code>info</code>.</p>
<div class="section level3">
<h3 id="duration">Duration<a class="anchor" aria-label="anchor" href="#duration"></a>
</h3>
<p>The most basic, and always required at a bare minimum, is the time
duration of each note. Notes always have duration. The previous example
showed a string of ones, <code>info = "1 1 1 1 1"</code>, of equal
length (in terms of space-delimited entries in the character string) to
the first argument giving a sequence of five C notes from different
octaves. These ones represent whole notes, lasting for an entire measure
of music. Other possible integer values are 2, 4, 8, 16, 32 and 64,
though most users probably won’t have reason to go beyond 16. The
possible integers represent whole notes, half notes, quarter notes,
eighth notes, sixteenth notes, etc.</p>
<p>The format is technically specifying the denominator. You might be
inclined toward 1, 1/2, 1/4, etc., since the durations represent
fractions of a single measure, not a total number of measures. This
denominator shorthand where the implicit numerator is always one saves
typing, but is also consistently with LilyPond itself. Below is an
example using different durations. Entire songs are much longer and more
complex and do not meaningfully benefit from piping, but for this and
other short examples that follow, it is convenient so it will be used.
Other arguments in <code>tab</code> are not relevant yet so for now just
accept the defaults.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c d e f g a b c' b c'"</span>, <span class="st">"16 16 8 8 4 4 8 2 2 1"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex01.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex01.png?raw=true" class="centerimg" width="100%"></p>
</div>
</div>
<div class="section level2">
<h2 id="rests-and-ties">Rests and ties<a class="anchor" aria-label="anchor" href="#rests-and-ties"></a>
</h2>
<p>Rests and tied notes are actually part of the <code>note</code>
argument. Both have duration, which is what belongs in
<code>info</code>.</p>
<p>Rests are denoted by <code>"r"</code>. In general, string
specification is irrelevant for rests because nothing is played, so you
can use a placeholder like <code>x</code> instead of a string number
(see next section on string numbers). For the moment this example is not
specifying the optional argument, <code>string</code>, so this can be
ignored. Replacing some notes in the previous phrase with rests looks
like the following.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"r d e r g r b r b r"</span>, <span class="st">"16 16 8 8 4 4 8 2 2 1"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex02.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex02.png?raw=true" class="centerimg" width="100%"></p>
<p>At first glance, tied notes might seem like something that ought to
be described via <code>info</code>. Even though the second note is not
played, a tied note is still distinct from the note to which it is tied
as far as notation is concerned.</p>
<p>For example, when tying a note over to a new measure, it must be
included twice in <code>notes</code>. The tie is annotated on the
original note with a <code>~</code> as follows.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"r a, b, c~ c"</span>, <span class="st">"2 8 8 4 1"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex03.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex03.png?raw=true" class="centerimg" width="55%"></p>
<p>The note is played once and has a duration of one and a quarter
measures, but is still annotated as one quarter note tied to one whole
note.</p>
</div>
<div class="section level2">
<h2 id="explicit-string-fret-combinations">Explicit string-fret combinations<a class="anchor" aria-label="anchor" href="#explicit-string-fret-combinations"></a>
</h2>
<p>Specifying the exact pitch is still ambiguous for guitar tablature
because the same note can be played in different positions along the
neck of a guitar. Tabs show which string is fretted and where. For
example, in standard tuning, the same C3 note can be played on the fifth
string, third fret, or on the sixth string, eighth fret. If left
unspecified, most guitar tablature software will attempt to guess where
to play notes on the guitar. This is not done by some kind of
impressive, reliable artificial intelligence. It usually just means
arbitrarily reducing notes to the lowest possible frets even if a
combination of notes would not make sense or be physically practical for
someone to play them that way.</p>
<p>There is one degree of freedom when the note is locked in but its
position is not. It is not necessary to specify both the string number
and the fret number. Providing one implicitly locks in the other. If you
know the pitch and the string number, the fret is known. LilyPond
accepts string numbers readily. To isolate these numbers from the
<code>info</code> argument notation in <code><a href="../reference/phrase.html">phrase()</a></code>, they are
provided in the third argument, <code>string</code>, which is also
helpful because <code>string</code> is always optional.</p>
<p>Returning to the earlier phrase, without the rests, the equivalent
phrase with explicit string numbers would have had
<code>string = "5 4 4 4 3 3 2 2 2 2"</code>. The second version with
rests could have been provided as
<code>string = "x 4 4 x 3 x 2 x 2 x"</code>. Instead, play further up
the neck beginning with C3 on the sixth string, eighth fret.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">notes</span> <span class="op">&lt;-</span> <span class="st">"c d e f g a b c' b c'"</span></span>
<span><span class="va">info</span> <span class="op">&lt;-</span> <span class="st">"16 16 8 8 4 4 8 2 2 1"</span></span>
<span><span class="va">strings</span> <span class="op">&lt;-</span> <span class="st">"6 6 5 5 5 4 4 4 4 4"</span></span>
<span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="va">notes</span>, <span class="va">info</span>, <span class="va">strings</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex04.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex04.png?raw=true" class="centerimg" width="100%"></p>
<p>Some programs like LilyPond allow for specifying a minimum fret
threshold, such that every note is played at that fret or above. This
would work better for some songs than others of course. It is still not
as powerful or ideal as being explicit about every note’s position. This
threshold option is not currently supported by <code>tabr</code>. It is
recommended to always be explicit anyway, as it leads to more accurate
guitar tablature. There is a preponderance of highly inaccurate guitar
tabs in the online world. Please do not add to the heap.</p>
</div>
<div class="section level2">
<h2 id="note-metadata-continued">Note metadata continued<a class="anchor" aria-label="anchor" href="#note-metadata-continued"></a>
</h2>
<p>This section returns to the <code>info</code> argument to
<code><a href="../reference/phrase.html">phrase()</a></code> with more examples of various pieces of note
information that can be bound to <code>notes</code>.</p>
<div class="section level3">
<h3 id="dotted-notes">Dotted notes<a class="anchor" aria-label="anchor" href="#dotted-notes"></a>
</h3>
<p>Note duration was introduced earlier, but incompletely. Dotted notes
can be used to add 50% more time to a note. For example, a dotted
quarter note, given by <code>"4."</code>, is equal in length to a
quarter note plus an eighth note, covering three eighths of a measure.
Double dotted may also be supplied. <code>"2.."</code> represents one
half note plus one quarter note plus another eight note duration, for a
total of 4 + 2 + 1 = 7 eighths of a measure.</p>
<p>A couple measures with no rests that contains dotted and double
dotted notes might look like this.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c d e e e d c"</span>, <span class="st">"4. 4. 8 8 2.. 8 1"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex05.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>Dots are tightly bound in dotted notes. <code>tabr</code> treats
these multi-character time durations as singular elements, just as it
does for, say, sixteenth notes given by a <code>"16"</code>.</p>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex05.png?raw=true" class="centerimg" width="72%"></p>
</div>
<div class="section level3">
<h3 id="staccato">Staccato<a class="anchor" aria-label="anchor" href="#staccato"></a>
</h3>
<p>Notes played staccato are specified by appending a closing square
bracket directly on the note duration, e.g., altering <code>"16"</code>
to <code>"16]"</code>. This will place a dot in the output below notes
that are played staccato.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c e g e c"</span>, <span class="st">"8] 8] 8] 8] 2"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex06.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex06.png?raw=true" class="centerimg" width="42%"></p>
</div>
<div class="section level3">
<h3 id="muted-or-dead-notes">Muted or dead notes<a class="anchor" aria-label="anchor" href="#muted-or-dead-notes"></a>
</h3>
<p>Muted or dead notes are indicated by appending an <code>"x"</code> to
a note duration, e.g., <code>"8x"</code>.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c e g e c"</span>, <span class="st">"8x] 8x] 8x] 8x] 2x"</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex07.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex07.png?raw=true" class="centerimg" width="42%"></p>
<p>Multiple pieces of information can be strung together for a single
note. For example, combining a muted note with staccato can be given as
<code>"8x]"</code>. In this early version of <code>tabr</code>, do this
with caution, as not all orderings of note information have been
thoroughly tested yet. Duration always comes first though. Some pieces
of information are not meant to go together either, such as a staccato
note that must essentially be held rather than released, for the purpose
of sliding to another note. Use human judgment. If you don’t ever see
something in sheet music, it may not work in <code>tabr</code>
either.</p>
<p>In this case, the example will work with <code>"8x]"</code> or
<code>"8]x"</code>. In fact, even accidentally leaving an extra staccato
indicator in as <code>"8]x]"</code>, which does undesirably alter the
output of <code><a href="../reference/phrase.html">phrase()</a></code>, will still be parsed by LilyPond
correctly. Nevertheless, stick closely to patterns shown in these
examples if possible.</p>
</div>
<div class="section level3">
<h3 id="slides">Slides<a class="anchor" aria-label="anchor" href="#slides"></a>
</h3>
<p>Slides are partially implemented. They work well in <code>tabr</code>
when sliding from one note to another note. Slides to a note that do not
begin from a previous note and slides from a note that do not terminate
at subsequent note are not implemented. This is usually done with a bit
of a hack in LilyPond by bending from or to a grace note and then making
the grace note invisible. This hack or some another approach has not
been ported to <code>tabr</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c b, c d e e d c b, c c c'"</span>, <span class="st">"8- 8- 4 8- 8 8- 8 8- 8- 8 4.- 4"</span>, <span class="st">"5*12"</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex08.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex08.png?raw=true" class="centerimg" width="77%"></p>
<p>As a brief aside, note the use of <code>*</code> above in the
<code>string</code> argument to reduce typing. It is necessary to
specify <code>string</code> here in order to ensure the notes are all on
the fifth string in the output. Any space-delimited elements in
<code><a href="../reference/phrase.html">phrase()</a></code> can take advantage of this terminal element
notation for multiplicative expansion of an element. Terminal means that
it must be appended to the end of whatever is being expanded; nothing
can follow it. <code>c*4 a*2</code> expands to <code>c c c c a a</code>
inside <code><a href="../reference/phrase.html">phrase()</a></code>. <code>4.-*2</code> is replaced with
<code>4.- 4.-</code>. This convenient multiplicative expansion operator
within character strings passed to <code><a href="../reference/phrase.html">phrase()</a></code> is available
for the <code>notes</code>, <code>info</code> and <code>string</code>
arguments.</p>
</div>
<div class="section level3">
<h3 id="hammer-ons-and-pull-offs">Hammer ons and pull offs<a class="anchor" aria-label="anchor" href="#hammer-ons-and-pull-offs"></a>
</h3>
<p>Hammer ons and pull offs use the same notation and are essentially
equivalent to slurs. They require a starting and stopping point.
Therefore, they must always come in pairs. Providing an odd number of
slur indicators will throw an error. The beginning of a slur is
indicated using an open parenthesis, <code>(</code>, and the end of a
slur is indicated with a closing parenthesis, <code>)</code>.</p>
<p>Editing the previous example, change some of the slides to hammer ons
and pull offs.</p>
<ul>
<li>Change the opening two slides (C to B to C) to use a pull off
followed by a hammer on. Note that each must be opened and closed, hence
the <code>)(</code> appended to the B, the second eighth note. Using
only a single set of parentheses, opening on the first note and closing
on the third, would make a single, general slur over all three in the
output.</li>
<li>Next, hammer on from D to E, pick E, and pull off back to D. Notice
the notation is identical for in both directions. Whether the slur
between the two consecutive notes is a hammer on or pull off is
implicit, given by the direction.</li>
<li>Then play the C-B-C part again, but differently from the opening.
Pick, pick, hammer on, pick, and then the final slide.</li>
<li>Finally, transpose up one octave by increasing the octave numbers
attached to the pitches in <code>notes</code>. The reason for this is
simply to demonstrate the placement of slurs above or below notes on the
tablature staff depending on the string number. With this transposition,
move from the fifth to the third string.</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">notes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="st">"c b, c d e e d c b, c c c"</span>, <span class="st">"c' b c' d' e' e' d' c' b c' c' c''"</span><span class="op">)</span></span>
<span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/append_phrases.html">pn</a></span><span class="op">(</span><span class="st">"8( 8)( 4) 8( 8) 8( 8) 8 8( 8) 4.- 4"</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">strings</span> <span class="op">&lt;-</span> <span class="st">"5*12 3*12"</span></span>
<span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="va">notes</span>, <span class="va">info</span>, <span class="va">strings</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex09.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex09.png?raw=true" class="centerimg" width="100%"></p>
<p>Another brief aside: <code>tabr</code> has some helper functions that
make your work a bit easier and your code a bit more legible, ideally
both. Using meaningful separation helps keep the code relatively
readable and easier to make changes to when you realize you made a
mistake somewhere. Don’t write one enormous string representing an
entire song. Aside from the avoiding code duplication where there is
musical repetition, even something that might not repeat such as a
guitar solo still benefits greatly from being broken up in to manageable
parts.</p>
<p><code><a href="../reference/append_phrases.html">pc()</a></code> is used above to combine both parts fed to
<code>notes</code> rather than write a single character string.
<code><a href="../reference/append_phrases.html">pc()</a></code> is a convenient function for joining strings in
<code>tabr</code>. It maintains the <code>phrase</code> class when at
least one element passed to <code><a href="../reference/append_phrases.html">pc()</a></code> is a phrase object. The
string passed to <code>info</code> does not change between parts so it
can be repeated. Using the <code>*n</code> within-string operator from
earlier does not apply here, but another function similar to
<code><a href="../reference/append_phrases.html">pc()</a></code> is <code><a href="../reference/append_phrases.html">pn()</a></code>. It repeats a phrase
<code>n</code> times.</p>
</div>
<div class="section level3">
<h3 id="string-bending">String bending<a class="anchor" aria-label="anchor" href="#string-bending"></a>
</h3>
<p>String bends are available but currently have a limited
implementation in <code>tabr</code> and bend engraving in LilyPond
itself is not fully developed. Specifying all kinds of bending, and
doing so elegantly and yielding an aesthetically pleasing and accurate
result, is immensely difficult. Bends are specified with a
<code>^</code>. Bend engraving does not look very good at the moment and
control over how a bend is drawn and any associated notation indicating
the number of semitones to bend is currently excluded.</p>
<p>In the example below, a half step bend-release-bend is attempted over
the three B notes shown at the end of the first phrase. Because the
string is only plucked one time, the first two B notes are tied through
to the third. Since a tied note is a note, this is done in
<code>notes</code>. The two bends are indicated with <code>^</code> on
the first and third notes via <code>info</code>. A similar approach is
taken with the second phrase, although with full step bends from G to A.
In both cases, the initial bend is not a pre-bend, but should be very
quick. None of these fine details can be provided with the current
version of <code>tabr</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">notes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="st">"r a, c f d a f b~ b~ b"</span>, <span class="st">"r a c' d' a f' d' g'~ g'~ g'"</span><span class="op">)</span></span>
<span><span class="va">info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/append_phrases.html">pn</a></span><span class="op">(</span><span class="st">"4 8*6 16^ 16 2..^"</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">strings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/append_phrases.html">pc</a></span><span class="op">(</span><span class="st">"x 5 5 4 4 3 4 3 3 3"</span>, <span class="st">"x 4 3 3 4 2 3 2 2 2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="va">notes</span>, <span class="va">info</span>, <span class="va">strings</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex10.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex10.png?raw=true" class="centerimg" width="100%"></p>
<p>As you can see, the implementation is limited in <code>tabr</code>.
It is also relatively difficult to achieve natively in LilyPond. The
bends are different but the number of steps must be inferred from the
key. The timing of bends and releases is challenging. The engraving is
poor. But it is a start point.</p>
</div>
</div>
<div class="section level2">
<h2 id="chords">Chords<a class="anchor" aria-label="anchor" href="#chords"></a>
</h2>
<p>Chords are covered in detail in later sections. For now, a brief
example is given to more fully demonstrate the concept of
space-delimited time and the use of simultaneous vs. sequential notes in
<code>tabr</code>. The example below shows how to include some open C
major chords inside <code>notes</code>. It is simply a matter of
removing spaces. The tightly bound notes are simultaneous in time.
<code>info</code> applies to the entire chord because it describes
attributes of notes played at a given moment. There are obvious
limitations to this though fortunately not hugely detrimental.
<code>string</code> numbers are tightly bound for chords as well.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/phrase.html">phrase</a></span><span class="op">(</span><span class="st">"c cegc'e' c3 c3e3g3c4e4"</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/track.html">track</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/score.html">score</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="../reference/tab.html">tab</a></span><span class="op">(</span><span class="st">"ex11.pdf"</span><span class="op">)</span></span></code></pre></div>
<p>It can be seen above that just like individual notes, chords can be
specified using any combination of tick or integer octave numbering.
They are equivalent. Tick style may be more readable for some. More
importantly, remember that numbered octave format restricts other
functionality. Octave 3 is the implicit default and can be left out.
Note the shorthand string numbering. Note info and string numbers can be
recycled across the timesteps in <code>notes</code> as long as their
length is one.</p>
<p>When a single string number is given for a timestep, but there is
more than one note at that timestep, it is assumed to be the starting
string number and addition consecutive string numbers are inferred.
Multiple explicit string numbers per timestep are only required when
they are not completely consecutive. In general, the number of implicit
or explicit strings per timestep must match the number of notes. String
numbers are ignored for rests.</p>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex11.png?raw=true" class="centerimg" width="37%"></p>
<p>This covers the detailed introduction to phrases. The next section
will cover related helper functions, some of which have already been
seen.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/leonawicz" class="external-link">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer>
</div>





  </body>
</html>
