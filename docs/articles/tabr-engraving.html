<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Render scores • tabr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Render scores">
<meta property="og:description" content="">
<meta property="og:image" content="http://leonawicz.github.io/tabr/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-46129458-3"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-46129458-3');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tabr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.9.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-info-circle"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Programming</li>
    <li>
      <a href="../articles/tabr-prog-nw.html">Noteworthiness</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-scales.html">Musical scales</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-notes.html">Note functions</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-chords.html">Chord functions</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-noteinfo.html">Time and note info</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-music.html">The music class</a>
    </li>
    <li>
      <a href="../articles/tabr-prog-converters.html">Syntax converters</a>
    </li>
    <li>
      <a href="../articles/tabr-fretboard.html">Fretboard diagram plots</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Transcription</li>
    <li>
      <a href="../articles/tabr-basics.html">Basic overview</a>
    </li>
    <li>
      <a href="../articles/tabr-phrases.html">Musical phrases</a>
    </li>
    <li>
      <a href="../articles/tabr-helpers.html">Phrase helpers</a>
    </li>
    <li>
      <a href="../articles/tabr-chords.html">Chords</a>
    </li>
    <li>
      <a href="../articles/tabr-repeats.html">Repeats</a>
    </li>
    <li>
      <a href="../articles/tabr-tracks-scores.html">Tracks and scores</a>
    </li>
    <li>
      <a href="../articles/tabr-engraving.html">Render scores</a>
    </li>
    <li>
      <a href="../articles/tabr-chordchart.html">Render chord chart</a>
    </li>
    <li>
      <a href="../articles/tabr-tunings.html">Strings and tunings</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Examples
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tabr-ex1.html">Tuning and capo</a>
    </li>
    <li>
      <a href="../articles/tabr-ex2.html">Multiple voices</a>
    </li>
    <li>
      <a href="../articles/tabr-ex3.html">AC2 - Ezio's family</a>
    </li>
    <li>
      <a href="../articles/tabr-ex4.html">Gin Wigmore - Devil in me</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-book"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/leonawicz/tabr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Render scores</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/tabr/blob/master/vignettes/tabr-engraving.Rmd"><code>vignettes/tabr-engraving.Rmd</code></a></small>
      <div class="hidden name"><code>tabr-engraving.Rmd</code></div>

    </div>

    
    
<p>This section covers <code>lilypond</code> and <code>tab</code> for writing LilyPond files and engraving to sheet music with LilyPond, respectively. Examples of the various pieces of metadata that can be passed to to these functions are provided.</p>
<div id="rendering" class="section level2">
<h2 class="hasAnchor">
<a href="#rendering" class="anchor"></a>Rendering</h2>
<p>The <code>lilypond</code> function creates a LilyPond file (<code>.ly</code>). Various rendering functions wrap <code>lilypond</code> to combine the steps of creating an intermediary LilyPond file and rendering it to pdf or png. The most general render function is <code>tab</code>, which for naming consistency can also be called as <code>render_tab</code>. Other <code>render_*</code> functions exist including <code>render_score</code> and <code>render_midi</code>, which focus on rendering non-tablature, all-purpose sheet music and rendering only the corresponding MIDI file, respectively.</p>
<p>The examples in this vignette focus on <code>tab</code>. You can set <code>keep_ly = TRUE</code> in render functions to retain the intermediary LilyPond file.</p>
<p>By now you have seen many calls to <code>tab</code> throughout these vignettes in order to show full examples previously. With sufficient coverage of phrases, tracks and scores, and the progression through them, now it is time to go into more detail on the arguments that can be supplied as part of the rendering or engraving process that apply to the entire piece of sheet music.</p>
</div>
<div id="score-metadata" class="section level2">
<h2 class="hasAnchor">
<a href="#score-metadata" class="anchor"></a>Score metadata</h2>
<p>These are the most critical components that can be supplied to <code>lilypond</code>. These are the three arguments immediately after the input <code>score</code> and output <code>file</code>. While they have default values, they will almost invariably need to be changed for just about any song. <code>key</code> specifies the key signature, e.g. <code>key ="dm"</code>. Key changes in the middle of a song are not supported, but you can always edit the LilyPond file by hand to make highly customized changes. <code>time</code> gives the time signature, defaulting to common time, or 4/4 time. <code>tempo</code> provides the song tempo, defaulting to <code>tempo = "2 = 60"</code>. Note that <code>key</code> takes the <code>tabr</code> consistent key signature notation whereas <code>time</code> and <code>tempo</code> take literal LilyPond strings. Look up options for these strings if you are not familiar with them in LilyPond.</p>
<p>Throughout this tutorial section, the guitar and bass example from the section on tracks and scores is reused. The chord chart and chord sequence are retained to provide the most complete illustration of a rendered score. For completeness, here is what you have so far.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">voice1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/repeats.html">rp</a></span>(<span class="kw"><a href="../reference/phrase.html">p</a></span>(<span class="st">"c5 d5 e5 f5 g5"</span>, <span class="st">"1 2 4 4 1"</span>, <span class="st">"1*5"</span>), <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3">notes &lt;-<span class="st"> "c e g c' e' c' g e g b d' g' f a c' f' c e g e c"</span></a>
<a class="sourceLine" id="cb1-4" title="4">strings &lt;-<span class="st"> "5 4 3 2 1 2 3 4 4 3 2 1 4 3 2 1 5 4 3 4 5"</span></a>
<a class="sourceLine" id="cb1-5" title="5">voice2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/repeats.html">rp</a></span>(<span class="kw"><a href="../reference/phrase.html">p</a></span>(notes, <span class="st">"8*20 2"</span>, strings), <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7">bass &lt;-<span class="st"> </span><span class="kw"><a href="../reference/repeats.html">rp</a></span>(<span class="kw"><a href="../reference/phrase.html">p</a></span>(<span class="st">"c2e2*4 g1*2 f1*2 c2e2*3"</span>, <span class="st">"4*10 2"</span>, <span class="st">"32*4 4*4 32*3"</span>), <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">t1 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/track.html">track</a></span>(voice1, <span class="dt">voice =</span> <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-10" title="10">t2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/track.html">track</a></span>(voice2, <span class="dt">voice =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-11" title="11">t3 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/track.html">track</a></span>(bass, <span class="dt">tuning =</span> <span class="st">"bass"</span>, <span class="dt">music_staff =</span> <span class="st">"bass_8"</span>)</a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13">chords &lt;-<span class="st"> </span><span class="kw"><a href="../reference/chord_set.html">chord_set</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dt">c =</span> <span class="st">"x32o1o"</span>, <span class="dt">g =</span> <span class="st">"355433"</span>, <span class="dt">f =</span> <span class="st">"133211"</span>))</a>
<a class="sourceLine" id="cb1-14" title="14">chord_seq &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/rep.html">rep</a></span>(<span class="kw"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>, <span class="dv">1</span>), <span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(chords)[<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>, <span class="dv">1</span>)]), <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb1-15" title="15">chords</a></code></pre></div>
<pre class="r-output"><code>#&gt;              c              g              f 
#&gt; "x;3;2;o;1;o;" "3;5;5;4;3;3;" "1;3;3;2;1;1;"
</code></pre>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">chord_seq</a></code></pre></div>
<pre class="r-output"><code>#&gt; c g f c c g f c c g f c 
#&gt; 1 2 2 1 1 2 2 1 1 2 2 1
</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"></a>
<a class="sourceLine" id="cb3-2" title="2">song &lt;-<span class="st"> </span><span class="kw"><a href="../reference/trackbind.html">trackbind</a></span>(t1, t2, t3, <span class="dt">tabstaff =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>)) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/score.html">score</a></span>(chords, chord_seq)</a>
<a class="sourceLine" id="cb3-3" title="3">song</a></code></pre></div>
<pre class="r-output"><code>#&gt; <span style="color: #555555;"># A tibble: 3 x 9</span><span>
#&gt;   phrase   tuning        voice staff   ms_transpose ms_key tab   lyrics tabstaff
#&gt;   </span><span style="color: #555555;font-style: italic;">&lt;list&gt;</span><span>   </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>         </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>          </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>  </span><span style="color: #555555;font-style: italic;">&lt;lgl&gt;</span><span> </span><span style="color: #555555;font-style: italic;">&lt;chr&gt;</span><span>     </span><span style="color: #555555;font-style: italic;">&lt;int&gt;</span><span>
#&gt; </span><span style="color: #555555;">1</span><span> </span><span style="color: #555555;">&lt;phrase&gt;</span><span> e, a, d g b ~     1 treble~            0 </span><span style="color: #BB0000;">NA</span><span>     TRUE  </span><span style="color: #BB0000;">NA</span><span>            1
#&gt; </span><span style="color: #555555;">2</span><span> </span><span style="color: #555555;">&lt;phrase&gt;</span><span> e, a, d g b ~     2 treble~            0 </span><span style="color: #BB0000;">NA</span><span>     TRUE  </span><span style="color: #BB0000;">NA</span><span>            1
#&gt; </span><span style="color: #555555;">3</span><span> </span><span style="color: #555555;">&lt;phrase&gt;</span><span> e,, a,, d, g,     1 bass_8             0 </span><span style="color: #BB0000;">NA</span><span>     TRUE  </span><span style="color: #BB0000;">NA</span><span>            2
</span></code></pre>
<p>This time, when rendering the song, use settings for the three arguments discussed above. Given what is written, it doesn’t make sense to change them all. For example, this won’t fit well as a waltz (time = “3/4”). But for illustration purposes, pretend the song is actually in the key of D minor (F major). This key has one flat, B, so this will force the B note in the G chord to be annotated as an accidental. Change the time to <code>2/2</code> just for the sake of changing it, which won’t really be any different from <code>4/4</code> except you will see a line through the common time symbol. Finally, change the tempo to <code>4 = 120</code>, which is also equivalent to the default, but will show up in the output slightly differently as well.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw"><a href="../reference/lilypond.html">lilypond</a></span>(song, <span class="st">"ex32.ly"</span>, <span class="st">"dm"</span>, <span class="st">"2/2"</span>, <span class="st">"4 = 120"</span>)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw"><a href="../reference/tab.html">tab</a></span>(song, <span class="st">"ex32.pdf"</span>, <span class="st">"dm"</span>, <span class="st">"2/2"</span>, <span class="st">"4 = 120"</span>)</a></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex32.png?raw=true" class="centerimg" width="100%"></p>
<p>Notice how the key change alone, which added room for a single flat symbol to be squeezed into the start of the treble and bass clef staves, was enough to a line wrap compared to the previous tutorial section where it all fit on one line. This is because it was a tight fit to in the previous examples and there was not enough room for LilyPond to continue fitting everything on one line with this slight widening created by the key change. LilyPond generates sheet music with a somewhat responsive layout engraver. It won’t necessarily leave everything on one line and push only a single measure to line two.</p>
<div id="output-file" class="section level3">
<h3 class="hasAnchor">
<a href="#output-file" class="anchor"></a>Output file</h3>
<p>The output file specified with <code>file</code> ends in pdf in every example. However, you can switch to png. Output is inferred from the file extension. <code>file</code> can be a relative or absolute path to the file.</p>
</div>
</div>
<div id="song-information" class="section level2">
<h2 class="hasAnchor">
<a href="#song-information" class="anchor"></a>Song information</h2>
<p>The next important argument to <code>lilypond</code> is <code>header</code>. <code>header</code> takes a named list of character strings that are used to fill in general song information such as the title and composer. All previous examples were blank above the tabs because none of this information was ever provided. Below an example is given that uses all available arguments. You can use any subset of these. There is no requirement to supply them all. This example just shows what is available. Several of these would likely not be used in most cases.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">header &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="dt">title =</span> <span class="st">"Song title"</span>,</a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="dt">composer =</span> <span class="st">"Words and music by the composer"</span>,</a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="dt">performer =</span> <span class="st">"Song performer"</span>,</a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="dt">album =</span> <span class="st">"Album title"</span>,</a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="dt">subtitle =</span> <span class="st">"Subtitle"</span>,</a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="dt">arranger =</span> <span class="st">"Arranged by tab arranger"</span>,</a>
<a class="sourceLine" id="cb5-8" title="8">  <span class="dt">copyright =</span> <span class="st">"2018 &lt;Record Label&gt;"</span>,</a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="dt">instrument =</span> <span class="st">"guitar and bass"</span>,</a>
<a class="sourceLine" id="cb5-10" title="10">  <span class="dt">tagline =</span> <span class="st">"A tagline"</span>,</a>
<a class="sourceLine" id="cb5-11" title="11">  <span class="dt">meter =</span> <span class="st">"meter tag"</span>, <span class="dt">opus =</span> <span class="st">"opus tag"</span>, <span class="dt">piece =</span> <span class="st">"piece tag"</span>, <span class="dt">poet =</span> <span class="st">"poet tag"</span></a>
<a class="sourceLine" id="cb5-12" title="12">)</a>
<a class="sourceLine" id="cb5-13" title="13"></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="kw"><a href="../reference/tab.html">tab</a></span>(song, <span class="st">"ex33.pdf"</span>, <span class="dt">header =</span> header)</a></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex33.png?raw=true" class="centerimg" width="100%"></p>
<p>The copyright and tagline are cutoff in the above image, but in your pdf you will see these if you scroll to the bottom of the rendered page.</p>
</div>
<div id="other-settings" class="section level2">
<h2 class="hasAnchor">
<a href="#other-settings" class="anchor"></a>Other settings</h2>
<div id="midi-files" class="section level3">
<h3 class="hasAnchor">
<a href="#midi-files" class="anchor"></a>MIDI files</h3>
<p>You have probably noticed by now that every time a pdf if rendered, an accompanying MIDI file is also generated. This can be turned off with <code>midi = FALSE</code>. This specification goes into the LilyPond file itself via <code>lilypond</code>. Therefore, no MIDI output will be created even if you create the LilyPond file with <code>lilypond</code> but convert that to pdf with LilyPond outside of R.</p>
<p>One thing to note about MIDI files is that <code>tabr</code> will unfold any repeats that occur in a song due to calls to <code>rp</code>, <code>pct</code> or <code>volta</code>. This allows the MIDI file to play everything the proper number of times rather than ending prematurely by not being able to read repeat notation.</p>
<p>Also, <code>tabr</code> is a package aimed at creating guitar tablature. It is not concerned with MIDI or audio signals and audio data in general. Any MIDI functionality is considered to be an extra feature and does not receive priority development or support. At this time, there is no way to make other alterations to the MIDI file internals. MIDI output can be toggled on or off as mentioned. And without you having to do anything, MIDI output will respect repeat notation in the rendered LilyPond file. MIDI output will also automatically be transposed to match a transposition that is applied to a music staff (under reasonable and simplified conditions).</p>
</div>
<div id="string-names" class="section level3">
<h3 class="hasAnchor">
<a href="#string-names" class="anchor"></a>String names</h3>
<p>The <code>string_names</code> is only relevant for tablature staves. argument defaults to <code>NULL</code>. This means that standard tuning is never specified alongside the lines of a tab staff at the beginning of the tablature. However, any other tuning will be explicitly noted so the reader is aware of the alternate tuning of any applicable track. This can also be set to <code>TRUE</code> to force all tunings to be explicit including standard guitar tuning or <code>FALSE</code> to suppress them all (though it is unclear what value there is in the <code>FALSE</code> setting).</p>
</div>
<div id="paper-and-color-settings" class="section level3">
<h3 class="hasAnchor">
<a href="#paper-and-color-settings" class="anchor"></a>Paper and color settings</h3>
<p>There is some nominal level of control over the paper layout via <code>paper</code>. Like <code>header</code>, this is a named list. The defaults are fine so you probably do not need to alter most of these values. There are six options, all numeric except for <code>page_numbers</code>, which is logical.</p>
<ul>
<li><code>textheight</code></li>
<li><code>linewidth</code></li>
<li><code>indent</code></li>
<li><code>first_page_number</code></li>
<li><code>page_numbers</code></li>
<li><code>fontsize</code></li>
</ul>
<p>If you pass any values for some of these in a named list to <code>paper</code>, any not passed will retain their built in defaults. You do not have to supply them all when using <code>paper</code>.</p>
<p>There are also global color settings. You can pass a named list to <code>colors</code> with any of the following. Values are hex colors or R color names.</p>
<ul>
<li><code>color</code></li>
<li><code>background</code></li>
<li><code>staff_lines</code></li>
<li><code>time</code></li>
<li><code>clef</code></li>
<li><code>beam</code></li>
<li><code>head</code></li>
<li><code>stem</code></li>
<li><code>accidental</code></li>
</ul>
<p>For more detail on these settings and others further above, see the help documentation, <code><a href="../reference/lilypond.html">?lilypond</a></code>.</p>
</div>
</div>
<div id="png-output" class="section level2">
<h2 class="hasAnchor">
<a href="#png-output" class="anchor"></a>PNG output</h2>
<p>Here are examples that make use of png-specific options and function behavior. First, when rendering to png instead of pdf, automatic cropping of the image is attempted. This removes the full page appearance for smaller snippets of sheet music. There are some limitations to this. For example, inclusion of header elements can disrupt this behavior.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/pitch_seq.html">pitch_seq</a></span>(<span class="st">"e,"</span>, <span class="dv">24</span>, <span class="dt">key =</span><span class="st">"c"</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/music.html">as_music</a></span>(<span class="dv">8</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/phrase.html">p</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/track.html">track</a></span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/score.html">score</a></span>()</a>
<a class="sourceLine" id="cb6-2" title="2"></a>
<a class="sourceLine" id="cb6-3" title="3">ppr &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">linewidth =</span> <span class="dv">60</span>, <span class="dt">page_numbers =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb6-4" title="4">hdr &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">title =</span> <span class="st">"Notes in C on guitar"</span>, <span class="dt">subtitle =</span> <span class="st">"Standard tuning"</span>)</a>
<a class="sourceLine" id="cb6-5" title="5"><span class="kw"><a href="../reference/tab.html">tab</a></span>(x, <span class="st">"ex_png1.png"</span>, <span class="dt">tempo =</span> <span class="ot">NULL</span>, <span class="dt">midi =</span> <span class="ot">FALSE</span>, <span class="dt">header =</span> hdr, <span class="dt">paper =</span> ppr)</a></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex_png1.png?raw=true" class="centerimg" width="35%"></p>
<p>Above, the height is automatically cropped because <code>file</code> type is a png. Providing <code>textheight</code> to <code>paper</code> overrides this behavior. The width would have also been cropped on its own. However, because of the inclusion of <code>header</code> arguments, this fails and explicit <code>linewidth</code> is needed. Similarly, if elements that describe footer content (still part of the LilyPond <code>header</code> block) that appear at the bottom of the page such as <code>tagline</code> or <code>copyright</code> were included, automatic height cropping would have also failed. In general, automatic cropping is the default for png output, but <code>header</code> disrupts this, requiring manual overrides to width and height.</p>
<p>In the example below, remove the header content. You can make a transparent background png, though you won’t be able to see the difference here. Instead, create a dark mode example and increase the resolution.</p>
<p>Since this is a single voice, single track, you do not need to explicitly call each function in the transcription pipeline. Use one of the convenient <code>render_music_*</code> functions to abstract this process, rendering sheet music directly from a <code>music</code> object. <code>render_music_guitar</code> has good default arguments for this example.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">colors &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">color =</span> <span class="st">"#e4e4e4"</span>, <span class="dt">background =</span> <span class="st">"gray10"</span>, <span class="dt">head =</span> <span class="st">"tomato"</span>, <span class="dt">tabhead =</span> <span class="st">"tomato"</span>)</a>
<a class="sourceLine" id="cb7-2" title="2"></a>
<a class="sourceLine" id="cb7-3" title="3">x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/music.html">as_music</a></span>(<span class="kw"><a href="../reference/pitch_seq.html">pitch_seq</a></span>(<span class="st">"e,"</span>, <span class="dv">24</span>, <span class="dt">key =</span><span class="st">"c"</span>), <span class="dv">8</span>) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="st">  </span><span class="kw"><a href="../reference/render_music.html">render_music_guitar</a></span>(<span class="st">"ex_png2.png"</span>, <span class="dt">colors =</span> colors, <span class="dt">res =</span> <span class="dv">300</span>)</a></code></pre></div>
<p>
<img src="https://github.com/leonawicz/tabr/blob/master/data-raw/vignette-pngs/ex_png2.png?raw=true" class="centerimg" width="100%"></p>
</div>
<div id="the-lilypond-file" class="section level2">
<h2 class="hasAnchor">
<a href="#the-lilypond-file" class="anchor"></a>The LilyPond file</h2>
<p>Finally, familiarize yourself with the LilyPond file itself. You may output a file and want to make additional edits to it directly. The example below also demonstrates some differences between <code>simplify = TRUE</code> and <code>simplify = FALSE</code>. This is a simple piece of music so not all possible syntax simplifications are shown here.</p>
<p><code>phrase</code> objects have more robust structure that has advantages for performing object manipulations in R, but this is a more verbose version of LilyPond syntax. By default, <code>lilypond</code> as well as associated <code>render_*</code> functions will simplify this to a more efficient syntax so that it is less cumbersome to read and work with LilyPond files directly.</p>
<div id="original-syntax" class="section level3">
<h3 class="hasAnchor">
<a href="#original-syntax" class="anchor"></a>Original syntax</h3>
<p>There are other simplifications but the most notable benefits are the removal of all the <code>&lt;&gt;</code> around single notes and not repeating consecutive durations if they are unchanged from previous timesteps.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="kw"><a href="../reference/lilypond.html">lilypond</a></span>(song, <span class="st">"song.ly"</span>, <span class="dt">simplify =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span>(<span class="st">"song.ly"</span>), <span class="dt">sep =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</a></code></pre></div>
<pre class="r-output"><code>#&gt; \version "2.18.2"
#&gt; \paper{
#&gt;   line-width=150\mm
#&gt;   oddFooterMarkup=##f
#&gt;   oddHeaderMarkup=##f
#&gt;   bookTitleMarkup = ##f
#&gt;   scoreTitleMarkup = ##f
#&gt;   indent = 0.\mm
#&gt;   first-page-number = 1
#&gt;   print-page-number = ##t
#&gt;   print-first-page-number = ##t
#&gt; }
#&gt; 
#&gt; #(set-global-staff-size 10)
#&gt; \header {
#&gt;   title = ""
#&gt;   subtitle = ""
#&gt;   composer = ""
#&gt;   arranger = ""
#&gt;   instrument = ""
#&gt;   metre = ""
#&gt;   opus = ""
#&gt;   piece = ""
#&gt;   poet = ""
#&gt;   copyright = ""
#&gt;   tagline = ""
#&gt; }
#&gt; \include "predefined-guitar-fretboards.ly"
#&gt; 
#&gt; #(define fb1 (make-fretboard-table))
#&gt; \storePredefinedDiagram #fb1 \chordmode{c} #guitar-tuning "x;3;2;o;1;o;"
#&gt; #(define fb2 (make-fretboard-table))
#&gt; \storePredefinedDiagram #fb2 \chordmode{g} #guitar-tuning "3;5;5;4;3;3;"
#&gt; #(define fb3 (make-fretboard-table))
#&gt; \storePredefinedDiagram #fb3 \chordmode{f} #guitar-tuning "1;3;3;2;1;1;"
#&gt; 
#&gt; global = {
#&gt;   \time 4/4
#&gt;   \key c \major
#&gt;   \tempo 2 = 60
#&gt;   \bar "|."
#&gt; }
#&gt; 
#&gt; mychorddiagrams = \chordmode {
#&gt;   \set predefinedDiagramTable = #fb1 c
#&gt;   \set predefinedDiagramTable = #fb2 g
#&gt;   \set predefinedDiagramTable = #fb3 f
#&gt; }
#&gt; 
#&gt; chordNames = \chordmode {
#&gt;   \override ChordName.font-size = #2
#&gt;   \global
#&gt;   c1 g2 f2 c1 c1 g2 f2 c1 c1 g2 f2 c1
#&gt; }
#&gt; 
#&gt; \markup\vspace #3
#&gt; \markup \fill-line {
#&gt;   \score {
#&gt;     &lt;&lt;
#&gt;       \context ChordNames { \mychorddiagrams }
#&gt;       \context FretBoards {
#&gt;         \override FretBoards.FretBoard.size = #1.2
#&gt;         \mychorddiagrams
#&gt;       }
#&gt;     &gt;&gt;
#&gt;   \layout {}
#&gt;   }
#&gt; }
#&gt; \markup\vspace #3
#&gt; 
#&gt; melodyAA = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt; \voiceOne \repeat unfold 3 { &lt;c''\1&gt;1 &lt;d''\1&gt;2 &lt;e''\1&gt;4 &lt;f''\1&gt;4 &lt;g''\1&gt;1 }
#&gt; }
#&gt; 
#&gt; melodyAB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt; \voiceTwo \repeat unfold 3 { &lt;c\5&gt;8 &lt;e\4&gt;8 &lt;g\3&gt;8 &lt;c'\2&gt;8 &lt;e'\1&gt;8 &lt;c'\2&gt;8 &lt;g\3&gt;8 &lt;e\4&gt;8 &lt;g\4&gt;8 &lt;b\3&gt;8 &lt;d'\2&gt;8 &lt;g'\1&gt;8 &lt;f\4&gt;8 &lt;a\3&gt;8 &lt;c'\2&gt;8 &lt;f'\1&gt;8 &lt;c\5&gt;8 &lt;e\4&gt;8 &lt;g\3&gt;8 &lt;e\4&gt;8 &lt;c\5&gt;2 
#&gt; }
#&gt; }
#&gt; 
#&gt; melodyB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \repeat unfold 3 { &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;g,,\4&gt;4 &lt;g,,\4&gt;4 &lt;f,,\4&gt;4 &lt;f,,\4&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;2 
#&gt; }
#&gt; }
#&gt; 
#&gt; midimelodyAA = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \unfoldRepeats {\voiceOne \repeat unfold 3 { &lt;c''\1&gt;1 &lt;d''\1&gt;2 &lt;e''\1&gt;4 &lt;f''\1&gt;4 &lt;g''\1&gt;1 }
#&gt;  }}
#&gt; 
#&gt; midimelodyAB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \unfoldRepeats {\voiceTwo \repeat unfold 3 { &lt;c\5&gt;8 &lt;e\4&gt;8 &lt;g\3&gt;8 &lt;c'\2&gt;8 &lt;e'\1&gt;8 &lt;c'\2&gt;8 &lt;g\3&gt;8 &lt;e\4&gt;8 &lt;g\4&gt;8 &lt;b\3&gt;8 &lt;d'\2&gt;8 &lt;g'\1&gt;8 &lt;f\4&gt;8 &lt;a\3&gt;8 &lt;c'\2&gt;8 &lt;f'\1&gt;8 &lt;c\5&gt;8 &lt;e\4&gt;8 &lt;g\3&gt;8 &lt;e\4&gt;8 &lt;c\5&gt;2 }
#&gt;  
#&gt; }
#&gt; }
#&gt; 
#&gt; midimelodyB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \unfoldRepeats { \repeat unfold 3 { &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;g,,\4&gt;4 &lt;g,,\4&gt;4 &lt;f,,\4&gt;4 &lt;f,,\4&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt;2 }
#&gt;  
#&gt; }
#&gt; }
#&gt; 
#&gt; \score {  &lt;&lt;
#&gt;   \new ChordNames \chordNames
#&gt;   \new Staff &lt;&lt; \clef "treble_8" \context Voice = "melodyAA" \melodyAA \context Voice = "melodyAB" \melodyAB &gt;&gt;
#&gt;   \new TabStaff \with { stringTunings = \stringTuning &lt;e, a, d g b e'&gt; } &lt;&lt;
#&gt;     \override Stem #'transparent = ##t
#&gt;     \override Beam #'transparent = ##t
#&gt;     \context TabVoice = "melodyAA" \melodyAA \context TabVoice = "melodyAB" \melodyAB
#&gt;   &gt;&gt;
#&gt;   \new Staff &lt;&lt; \clef "bass_8" \melodyB &gt;&gt;
#&gt;   \new TabStaff \with { stringTunings = \stringTuning &lt;e,, a,, d, g,&gt; } &lt;&lt;
#&gt;     \set TabStaff.instrumentName = \markup  { \hspace #7 \override #'(baseline-skip . 1.5)  \column \fontsize #-4.5 \sans { G D A E } }
#&gt;     \override Stem #'transparent = ##t
#&gt;     \override Beam #'transparent = ##t
#&gt;     \melodyB
#&gt;   &gt;&gt;
#&gt;   &gt;&gt;
#&gt;   \layout{ }
#&gt; }\score {  &lt;&lt;
#&gt;   \midimelodyAA
#&gt;   \midimelodyAB
#&gt;   \midimelodyB
#&gt;   &gt;&gt;
#&gt;   \midi{
#&gt;     \tempo 2 = 60
#&gt;   }
#&gt; }
</code></pre>
</div>
<div id="simplified-syntax" class="section level3">
<h3 class="hasAnchor">
<a href="#simplified-syntax" class="anchor"></a>Simplified syntax</h3>
<p>Here you can see the changes to the notation. Since the music is so short in this example, most of the file remains the same.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="../reference/lilypond.html">lilypond</a></span>(song, <span class="st">"song.ly"</span>)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/readLines.html">readLines</a></span>(<span class="st">"song.ly"</span>), <span class="dt">sep =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</a></code></pre></div>
<pre class="r-output"><code>#&gt; \version "2.18.2"
#&gt; \paper{
#&gt;   line-width=150\mm
#&gt;   oddFooterMarkup=##f
#&gt;   oddHeaderMarkup=##f
#&gt;   bookTitleMarkup = ##f
#&gt;   scoreTitleMarkup = ##f
#&gt;   indent = 0.\mm
#&gt;   first-page-number = 1
#&gt;   print-page-number = ##t
#&gt;   print-first-page-number = ##t
#&gt; }
#&gt; 
#&gt; #(set-global-staff-size 10)
#&gt; \header {
#&gt;   title = ""
#&gt;   subtitle = ""
#&gt;   composer = ""
#&gt;   arranger = ""
#&gt;   instrument = ""
#&gt;   metre = ""
#&gt;   opus = ""
#&gt;   piece = ""
#&gt;   poet = ""
#&gt;   copyright = ""
#&gt;   tagline = ""
#&gt; }
#&gt; \include "predefined-guitar-fretboards.ly"
#&gt; 
#&gt; #(define fb1 (make-fretboard-table))
#&gt; \storePredefinedDiagram #fb1 \chordmode{c} #guitar-tuning "x;3;2;o;1;o;"
#&gt; #(define fb2 (make-fretboard-table))
#&gt; \storePredefinedDiagram #fb2 \chordmode{g} #guitar-tuning "3;5;5;4;3;3;"
#&gt; #(define fb3 (make-fretboard-table))
#&gt; \storePredefinedDiagram #fb3 \chordmode{f} #guitar-tuning "1;3;3;2;1;1;"
#&gt; 
#&gt; global = {
#&gt;   \time 4/4
#&gt;   \key c \major
#&gt;   \tempo 2 = 60
#&gt;   \bar "|."
#&gt; }
#&gt; 
#&gt; mychorddiagrams = \chordmode {
#&gt;   \set predefinedDiagramTable = #fb1 c
#&gt;   \set predefinedDiagramTable = #fb2 g
#&gt;   \set predefinedDiagramTable = #fb3 f
#&gt; }
#&gt; 
#&gt; chordNames = \chordmode {
#&gt;   \override ChordName.font-size = #2
#&gt;   \global
#&gt;   c1 g2 f2 c1 c1 g2 f2 c1 c1 g2 f2 c1
#&gt; }
#&gt; 
#&gt; \markup\vspace #3
#&gt; \markup \fill-line {
#&gt;   \score {
#&gt;     &lt;&lt;
#&gt;       \context ChordNames { \mychorddiagrams }
#&gt;       \context FretBoards {
#&gt;         \override FretBoards.FretBoard.size = #1.2
#&gt;         \mychorddiagrams
#&gt;       }
#&gt;     &gt;&gt;
#&gt;   \layout {}
#&gt;   }
#&gt; }
#&gt; \markup\vspace #3
#&gt; 
#&gt; melodyAA = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt; \voiceOne \repeat unfold 3 { c''1\1 d''2\1 e''4\1 f''\1 g''1\1 }
#&gt; }
#&gt; 
#&gt; melodyAB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt; \voiceTwo \repeat unfold 3 { c8\5 e\4 g\3 c'\2 e'\1 c'\2 g\3 e\4 g\4 b\3 d'\2 g'\1 f\4 a\3 c'\2 f'\1 c\5 e\4 g\3 e\4 c2\5 
#&gt; }
#&gt; }
#&gt; 
#&gt; melodyB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \repeat unfold 3 { &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt; g,,\4 g,,\4 f,,\4 f,,\4 &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt;2 
#&gt; }
#&gt; }
#&gt; 
#&gt; midimelodyAA = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \unfoldRepeats {\voiceOne \repeat unfold 3 { c''1\1 d''2\1 e''4\1 f''\1 g''1\1 }
#&gt;  }}
#&gt; 
#&gt; midimelodyAB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \unfoldRepeats {\voiceTwo \repeat unfold 3 { c8\5 e\4 g\3 c'\2 e'\1 c'\2 g\3 e\4 g\4 b\3 d'\2 g'\1 f\4 a\3 c'\2 f'\1 c\5 e\4 g\3 e\4 c2\5 }
#&gt;  
#&gt; }
#&gt; }
#&gt; 
#&gt; midimelodyB = {
#&gt;  \global
#&gt;  \override StringNumber #'transparent = ##t
#&gt;  \unfoldRepeats { \repeat unfold 3 { &lt;c,\3 e,\2&gt;4 &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt; g,,\4 g,,\4 f,,\4 f,,\4 &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt; &lt;c,\3 e,\2&gt;2 }
#&gt;  
#&gt; }
#&gt; }
#&gt; 
#&gt; \score {  &lt;&lt;
#&gt;   \new ChordNames \chordNames
#&gt;   \new Staff &lt;&lt; \clef "treble_8" \context Voice = "melodyAA" \melodyAA \context Voice = "melodyAB" \melodyAB &gt;&gt;
#&gt;   \new TabStaff \with { stringTunings = \stringTuning &lt;e, a, d g b e'&gt; } &lt;&lt;
#&gt;     \override Stem #'transparent = ##t
#&gt;     \override Beam #'transparent = ##t
#&gt;     \context TabVoice = "melodyAA" \melodyAA \context TabVoice = "melodyAB" \melodyAB
#&gt;   &gt;&gt;
#&gt;   \new Staff &lt;&lt; \clef "bass_8" \melodyB &gt;&gt;
#&gt;   \new TabStaff \with { stringTunings = \stringTuning &lt;e,, a,, d, g,&gt; } &lt;&lt;
#&gt;     \set TabStaff.instrumentName = \markup  { \hspace #7 \override #'(baseline-skip . 1.5)  \column \fontsize #-4.5 \sans { G D A E } }
#&gt;     \override Stem #'transparent = ##t
#&gt;     \override Beam #'transparent = ##t
#&gt;     \melodyB
#&gt;   &gt;&gt;
#&gt;   &gt;&gt;
#&gt;   \layout{ }
#&gt; }\score {  &lt;&lt;
#&gt;   \midimelodyAA
#&gt;   \midimelodyAB
#&gt;   \midimelodyB
#&gt;   &gt;&gt;
#&gt;   \midi{
#&gt;     \tempo 2 = 60
#&gt;   }
#&gt; }
</code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#rendering">Rendering</a></li>
      <li><a href="#score-metadata">Score metadata</a></li>
      <li><a href="#song-information">Song information</a></li>
      <li><a href="#other-settings">Other settings</a></li>
      <li><a href="#png-output">PNG output</a></li>
      <li><a href="#the-lilypond-file">The LilyPond file</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://leonawicz.github.io/">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
