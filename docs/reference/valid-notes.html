<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Check note and chord validity — valid-notes • tabr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Check note and chord validity — valid-notes"><meta name="description" content="Check if a string is comprised exclusively of valid note and/or chord syntax."><meta property="og:description" content="Check if a string is comprised exclusively of valid note and/or chord syntax."><meta property="og:image" content="https://leonawicz.github.io/tabr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">tabr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../index.html"><span class="fa fa-home"></span> Home</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><h6 class="dropdown-header" data-toc-skip>Programming</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-nw.html">Noteworthiness</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-scales.html">Musical scales</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-notes.html">Note functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-chords.html">Chord functions</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-noteinfo.html">Time and note info</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-music.html">The music class</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-prog-converters.html">Syntax converters</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-fretboard.html">Fretboard diagram plots</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Transcription</h6></li>
    <li><a class="dropdown-item" href="../articles/tabr-basics.html">Basic overview</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-phrases.html">Musical phrases</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-helpers.html">Phrase helpers</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chords.html">Chords</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-repeats.html">Repeats</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tracks-scores.html">Tracks and scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-engraving.html">Render scores</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-snippets.html">Music snippets</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-chordchart.html">Render chord chart</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-tunings.html">Strings and tunings</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-examples" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Examples</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-examples"><li><a class="dropdown-item" href="../articles/tabr-ex1.html">Tuning and capo</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex2.html">Multiple voices</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex3.html">AC2 - Ezio's family</a></li>
    <li><a class="dropdown-item" href="../articles/tabr-ex4.html">Gin Wigmore - Devil in me</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/leonawicz/tabr"><span class="fa fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Check note and chord validity</h1>
      <small class="dont-index">Source: <a href="https://github.com/leonawicz/tabr/blob/HEAD/R/notes.R" class="external-link"><code>R/notes.R</code></a></small>
      <div class="d-none name"><code>valid-notes.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Check if a string is comprised exclusively of valid note and/or chord syntax.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">is_note</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_chord</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">noteworthy</span><span class="op">(</span><span class="va">x</span>, na.rm <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">as_noteworthy</span><span class="op">(</span><span class="va">x</span>, octaves <span class="op">=</span> <span class="cn">NULL</span>, accidentals <span class="op">=</span> <span class="cn">NULL</span>, format <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">is_noteworthy</span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>character, a noteworthy string.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>remove <code>NA</code>s.</p></dd>


<dt id="arg-octaves">octaves<a class="anchor" aria-label="anchor" href="#arg-octaves"></a></dt>
<dd><p><code>NULL</code> or character, <code>"tick"</code> or <code>"integer"</code> octave numbering
in result.</p></dd>


<dt id="arg-accidentals">accidentals<a class="anchor" aria-label="anchor" href="#arg-accidentals"></a></dt>
<dd><p><code>NULL</code> or character, represent accidentals, <code>"flat"</code> or
<code>"sharp"</code>.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p><code>NULL</code> or character, the timestep delimiter format, <code>"space"</code>
or <code>"vector"</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>depends on the function</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>is_note()</code> and <code>is_chord()</code> are vectorized and their positive results
are mutually exclusive. <code>noteworthy()</code> is also vectorized and performs both
checks, but it returns a scalar logical result indicating whether the entire
set contains exclusively valid entries.</p>
<p><code>as_noteworthy()</code> can be used to coerce to the <code>noteworthy</code> class. Coercion
will fail if the string is not noteworthy.
While many functions will work on simple character strings and, if their
syntax is valid, coerce them to the 'noteworthy' class, it is recommended to
use this class. Not all functions are so aggressive, and several generic
methods are implemented for the class. It also offers its own <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code>
and <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> methods for noteworthy strings.
An added benefit to using <code>as_noteworthy()</code> is to conform all notes in a
noteworthy string to specific formatting for accidentals and octave numbering.
Functions that output a noteworthy string attach the <code>noteworthy</code> class.</p>
<p>When <code>octaves</code>, <code>accidentals</code>, and <code>format</code> are <code>NULL</code>, formatting is
inferred from the noteworthy string input. When mixed formats are present,
tick format is the default for octave numbering and flats are the default for
accidentals.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="note-checks.html">note-checks()</a></code>, <code><a href="note-metadata.html">note-metadata()</a></code>, <code><a href="note-summaries.html">note-summaries()</a></code>,
<code><a href="note-coerce.html">note-coerce()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"a# b_ c, d'' e3 g_4 A m c2e_2g2 cegh"</span> <span class="co"># includes invalid syntax</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">" "</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  note <span class="op">=</span> <span class="fu">is_note</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  chord <span class="op">=</span> <span class="fu">is_chord</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  either <span class="op">=</span> <span class="fu">noteworthy</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>          x  note chord either</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       a#  TRUE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       b_  TRUE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       c,  TRUE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4      d''  TRUE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5       e3  TRUE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6      g_4  TRUE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7        A FALSE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8        m FALSE FALSE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  c2e_2g2 FALSE  TRUE  FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10    cegh FALSE FALSE  FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="is_diatonic.html">is_diatonic</a></span><span class="op">(</span><span class="st">"ace ac#e d e_"</span>, <span class="st">"c"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1]  TRUE FALSE  TRUE FALSE</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="st">"a# b_ c,~ c, d'' e3 g_4 c2e_2g2"</span></span></span>
<span class="r-in"><span><span class="fu">noteworthy</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># is it noteworthy; a validity check for any string</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">as_noteworthy</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># coerce to 'noteworthy' class, conform formatting</span></span></span>
<span class="r-in"><span><span class="fu">is_noteworthy</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="co"># check for 'noteworthy' class</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] TRUE</span>
<span class="r-in"><span><span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">&lt;Noteworthy string&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Format: </span>space-delimited time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Values: </span><span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">,</span><span style="color: #FFAF00;">~</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">,</span> <span style="color: #00AFFF; font-weight: bold;">d</span><span style="color: #00AFFF;">''</span> <span style="color: #00AFFF; font-weight: bold;">e</span> <span style="color: #00AFFF; font-weight: bold;">g_</span><span style="color: #00AFFF;">'</span> <span style="color: #FFAF00;">&lt;</span><span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">,</span><span style="color: #00AFFF; font-weight: bold;">e_</span><span style="color: #00AFFF;">,</span><span style="color: #00AFFF; font-weight: bold;">g</span><span style="color: #00AFFF;">,</span><span style="color: #FFAF00;">&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">&lt;Noteworthy string&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Timesteps: </span>8 (7 notes, 1 chord)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Octaves: </span>tick</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Accidentals: </span>flat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Format: </span>space-delimited time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Values: </span><span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">,</span><span style="color: #FFAF00;">~</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">,</span> <span style="color: #00AFFF; font-weight: bold;">d</span><span style="color: #00AFFF;">''</span> <span style="color: #00AFFF; font-weight: bold;">e</span> <span style="color: #00AFFF; font-weight: bold;">g_</span><span style="color: #00AFFF;">'</span> <span style="color: #FFAF00;">&lt;</span><span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">,</span><span style="color: #00AFFF; font-weight: bold;">e_</span><span style="color: #00AFFF;">,</span><span style="color: #00AFFF; font-weight: bold;">g</span><span style="color: #00AFFF;">,</span><span style="color: #FFAF00;">&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">as_noteworthy</span><span class="op">(</span><span class="va">x</span>, format <span class="op">=</span> <span class="st">"vector"</span>, octaves <span class="op">=</span> <span class="st">"integer"</span>,</span></span>
<span class="r-in"><span>                   accidentals <span class="op">=</span> <span class="st">"flat"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">&lt;Noteworthy string&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Format: </span>vectorized time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Values: </span><span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">2</span><span style="color: #FFAF00;">~</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">2</span> <span style="color: #00AFFF; font-weight: bold;">d</span><span style="color: #00AFFF;">5</span> <span style="color: #00AFFF; font-weight: bold;">e</span> <span style="color: #00AFFF; font-weight: bold;">g_</span><span style="color: #00AFFF;">4</span> <span style="color: #FFAF00;">&lt;</span><span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">2</span><span style="color: #00AFFF; font-weight: bold;">e_</span><span style="color: #00AFFF;">2</span><span style="color: #00AFFF; font-weight: bold;">g</span><span style="color: #00AFFF;">2</span><span style="color: #FFAF00;">&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">&lt;Noteworthy string&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Timesteps: </span>8 (7 notes, 1 chord)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Octaves: </span>integer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Accidentals: </span>flat</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Format: </span>vectorized time</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #808080; font-weight: bold;">  Values: </span><span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">b_</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">2</span><span style="color: #FFAF00;">~</span> <span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">2</span> <span style="color: #00AFFF; font-weight: bold;">d</span><span style="color: #00AFFF;">5</span> <span style="color: #00AFFF; font-weight: bold;">e</span> <span style="color: #00AFFF; font-weight: bold;">g_</span><span style="color: #00AFFF;">4</span> <span style="color: #FFAF00;">&lt;</span><span style="color: #00AFFF; font-weight: bold;">c</span><span style="color: #00AFFF;">2</span><span style="color: #00AFFF; font-weight: bold;">e_</span><span style="color: #00AFFF;">2</span><span style="color: #00AFFF; font-weight: bold;">g</span><span style="color: #00AFFF;">2</span><span style="color: #FFAF00;">&gt;</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/leonawicz" class="external-link">Matthew Leonawicz</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

